<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:FitnessRechner.ViewModels"
             xmlns:mi="using:Material.Icons.Avalonia"
             xmlns:loc="using:MeineApps.Core.Ava.Localization"
             xmlns:behaviors="using:MeineApps.Core.Ava.Behaviors"
             xmlns:uiBehaviors="using:MeineApps.UI.Behaviors"
             xmlns:uiControls="using:MeineApps.UI.Controls"
             xmlns:models="using:FitnessRechner.Models"
             xmlns:conv="using:FitnessRechner.Converters"
             xmlns:i="using:Avalonia.Xaml.Interactivity"
             x:Class="FitnessRechner.Views.HomeView"
             x:DataType="vm:MainViewModel">

  <UserControl.Resources>
    <conv:LocalizeKeyConverter x:Key="LocalizeKey" />
  </UserControl.Resources>

  <UserControl.Styles>
    <!-- Streak-Flamme Puls-Animation (nur wenn HasStreak=true) -->
    <Style Selector="Border.StreakFlame">
      <Style.Animations>
        <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate">
          <KeyFrame Cue="0%">
            <Setter Property="Opacity" Value="1.0" />
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="Opacity" Value="0.7" />
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="Opacity" Value="1.0" />
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>
  </UserControl.Styles>

  <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel Spacing="0" Margin="0,0,0,60">

      <!-- ========== Hero-Header (Green/Teal Gradient) ========== -->
      <Border CornerRadius="0,0,16,16" Padding="20,20,20,16">
        <Border.Background>
          <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
            <GradientStop Color="#22C55E" Offset="0" />
            <GradientStop Color="{DynamicResource SecondaryColor}" Offset="0.5" />
            <GradientStop Color="{DynamicResource AccentColor}" Offset="1" />
          </LinearGradientBrush>
        </Border.Background>
        <StackPanel Spacing="12" HorizontalAlignment="Center">
          <!-- Begrüßung + App-Name -->
          <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
            <Border Width="36" Height="36" CornerRadius="18" Background="#33FFFFFF">
              <mi:MaterialIcon Kind="HeartPulse" Width="20" Height="20"
                               Foreground="White"
                               HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <StackPanel VerticalAlignment="Center">
              <TextBlock Text="{Binding GreetingText}"
                         FontSize="13" Foreground="#CCFFFFFF" />
              <TextBlock Text="{loc:Translate AppName}"
                         FontSize="20" FontWeight="Bold" Foreground="White" />
            </StackPanel>
          </StackPanel>
          <!-- Motivations-Zitat -->
          <TextBlock Text="{Binding MotivationalQuote}"
                     FontSize="12" FontStyle="Italic"
                     Foreground="#BBFFFFFF"
                     TextWrapping="Wrap" TextAlignment="Center"
                     HorizontalAlignment="Center"
                     MaxWidth="300" />
        </StackPanel>
      </Border>

      <!-- ========== Content ========== -->
      <StackPanel Spacing="16" Margin="12,16,12,0">

        <!-- ========== Tages-Score Ring (nur bei vorhandenen Daten) ========== -->
        <Border Classes="Card StatsCard" Padding="16" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasDashboardData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="0" StaggerDelay="80" BaseDuration="400" />
          </i:Interaction.Behaviors>
          <Grid ColumnDefinitions="Auto,*" ColumnSpacing="16">
            <!-- Score-Ring -->
            <Panel Width="80" Height="80">
              <uiControls:CircularProgress Width="80" Height="80"
                  Value="{Binding DailyScoreFraction}"
                  StrokeWidth="6"
                  StrokeBrush="{DynamicResource PrimaryBrush}"
                  TrackBrush="{DynamicResource BorderSubtleBrush}" />
              <!-- Score-Text in der Mitte -->
              <TextBlock Text="{Binding DailyScoreDisplay}"
                         FontSize="20" FontWeight="Bold"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Panel>
            <!-- Beschreibung rechts -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="6">
              <TextBlock Text="{Binding DailyProgressLabel}"
                         FontSize="16" FontWeight="Bold"
                         Foreground="{DynamicResource TextPrimaryBrush}" />
              <!-- 3 Mini-Indikatoren -->
              <StackPanel Spacing="4">
                <StackPanel Orientation="Horizontal" Spacing="6">
                  <Border Width="8" Height="8" CornerRadius="4" Background="#F59E0B" />
                  <TextBlock Text="{Binding TodayCaloriesDisplay, StringFormat='{}{0} kcal'}"
                             FontSize="12" Foreground="{DynamicResource TextMutedBrush}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="6">
                  <Border Width="8" Height="8" CornerRadius="4" Background="#22C55E" />
                  <TextBlock Text="{Binding TodayWaterDisplay}"
                             FontSize="12" Foreground="{DynamicResource TextMutedBrush}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="6">
                  <Border Width="8" Height="8" CornerRadius="4" Background="#8B5CF6" />
                  <TextBlock Text="{Binding TodayWeightDisplay, StringFormat='{}{0} kg'}"
                             FontSize="12" Foreground="{DynamicResource TextMutedBrush}" />
                </StackPanel>
              </StackPanel>
            </StackPanel>
          </Grid>
        </Border>

        <!-- ========== XP / Level Bar (nur bei vorhandenen Daten) ========== -->
        <Border Classes="Card StatsCard" Padding="10,8" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasDashboardData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="1" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
            <!-- Level-Badge -->
            <Border Background="{DynamicResource PrimaryBrush}" CornerRadius="10" Padding="8,2"
                    VerticalAlignment="Center">
              <TextBlock Text="{Binding LevelLabel}"
                         FontSize="11" FontWeight="Bold" Foreground="White" />
            </Border>
            <!-- XP ProgressBar -->
            <ProgressBar Grid.Column="1" Value="{Binding LevelProgress}" Maximum="1.0"
                         Height="6" CornerRadius="3" VerticalAlignment="Center"
                         Foreground="{DynamicResource PrimaryBrush}"
                         Background="{DynamicResource BorderSubtleBrush}">
              <ProgressBar.Transitions>
                <Transitions>
                  <DoubleTransition Property="Value" Duration="0:0:0.5" />
                </Transitions>
              </ProgressBar.Transitions>
            </ProgressBar>
            <!-- XP Text -->
            <TextBlock Grid.Column="2" Text="{Binding XpDisplay}"
                       FontSize="11" Foreground="{DynamicResource TextMutedBrush}"
                       VerticalAlignment="Center" />
          </Grid>
        </Border>

        <!-- ========== Today Dashboard Card ========== -->
        <Border Classes="Card StatsCard" Padding="16"
                BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasDashboardData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="2" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <StackPanel Spacing="12">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="CalendarToday" Width="20" Height="20"
                               Foreground="{DynamicResource PrimaryBrush}" />
              <TextBlock Text="{loc:Translate TodayDashboard}"
                         FontSize="16" FontWeight="Bold"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
            </StackPanel>

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="12" RowSpacing="12">

              <!-- Gewicht -->
              <Border Grid.Row="0" Grid.Column="0"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border CornerRadius="10" Width="40" Height="40" HorizontalAlignment="Center">
                    <Border.Background>
                      <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Color="#8B5CF6" Offset="0" />
                        <GradientStop Color="#7C3AED" Offset="1" />
                      </LinearGradientBrush>
                    </Border.Background>
                    <mi:MaterialIcon Kind="ScaleBathroom" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayWeightDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="kg" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

              <!-- BMI -->
              <Border Grid.Row="0" Grid.Column="1"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border CornerRadius="10" Width="40" Height="40" HorizontalAlignment="Center">
                    <Border.Background>
                      <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Color="#3B82F6" Offset="0" />
                        <GradientStop Color="#2563EB" Offset="1" />
                      </LinearGradientBrush>
                    </Border.Background>
                    <mi:MaterialIcon Kind="ScaleBalance" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayBmiDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="BMI" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

              <!-- Wasser -->
              <Border Grid.Row="1" Grid.Column="0"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                  <StackPanel Spacing="6">
                    <Border CornerRadius="10" Width="40" Height="40">
                      <Border.Background>
                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                          <GradientStop Color="#22C55E" Offset="0" />
                          <GradientStop Color="#16A34A" Offset="1" />
                        </LinearGradientBrush>
                      </Border.Background>
                      <mi:MaterialIcon Kind="Water" Width="20" Height="20"
                                       Foreground="White"
                                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <TextBlock Text="{Binding TodayWaterDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                  </StackPanel>
                  <!-- Wasser CircularProgress Ring -->
                  <uiControls:CircularProgress Grid.Column="1" Width="44" Height="44"
                      Value="{Binding WaterProgressFraction}"
                      StrokeWidth="4"
                      TrackBrush="{DynamicResource BorderSubtleBrush}"
                      VerticalAlignment="Center">
                    <uiControls:CircularProgress.StrokeBrush>
                      <SolidColorBrush Color="#22C55E" />
                    </uiControls:CircularProgress.StrokeBrush>
                  </uiControls:CircularProgress>
                </Grid>
              </Border>

              <!-- Kalorien -->
              <Border Grid.Row="1" Grid.Column="1"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                  <StackPanel Spacing="6">
                    <Border CornerRadius="10" Width="40" Height="40">
                      <Border.Background>
                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                          <GradientStop Color="#F59E0B" Offset="0" />
                          <GradientStop Color="#D97706" Offset="1" />
                        </LinearGradientBrush>
                      </Border.Background>
                      <mi:MaterialIcon Kind="Fire" Width="20" Height="20"
                                       Foreground="White"
                                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <StackPanel Orientation="Horizontal" Spacing="4">
                      <TextBlock Text="{Binding TodayCaloriesDisplay}"
                                 FontSize="18" FontWeight="Bold"
                                 Foreground="{DynamicResource TextPrimaryBrush}" />
                      <TextBlock Text="kcal" FontSize="12"
                                 Foreground="{DynamicResource TextMutedBrush}"
                                 VerticalAlignment="Bottom" Margin="0,0,0,2" />
                    </StackPanel>
                  </StackPanel>
                  <!-- Kalorien CircularProgress Ring -->
                  <uiControls:CircularProgress Grid.Column="1" Width="44" Height="44"
                      Value="{Binding CalorieProgressFraction}"
                      StrokeWidth="4"
                      TrackBrush="{DynamicResource BorderSubtleBrush}"
                      VerticalAlignment="Center">
                    <uiControls:CircularProgress.StrokeBrush>
                      <SolidColorBrush Color="#F59E0B" />
                    </uiControls:CircularProgress.StrokeBrush>
                  </uiControls:CircularProgress>
                </Grid>
              </Border>

            </Grid>
          </StackPanel>
        </Border>

        <!-- ========== Empty-State (wenn keine Tracking-Daten) ========== -->
        <Border Classes="Card" CornerRadius="16" Padding="24,28"
                IsVisible="{Binding ShowEmptyState}"
                BoxShadow="{DynamicResource CardShadow}">
          <StackPanel Spacing="16" HorizontalAlignment="Center">
            <!-- Großes Icon mit Gradient-Hintergrund -->
            <Border Width="72" Height="72" CornerRadius="36" HorizontalAlignment="Center">
              <Border.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#22C55E" Offset="0" />
                  <GradientStop Color="{DynamicResource AccentColor}" Offset="1" />
                </LinearGradientBrush>
              </Border.Background>
              <mi:MaterialIcon Kind="RocketLaunchOutline" Width="36" Height="36"
                               Foreground="White"
                               HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <!-- Titel -->
            <TextBlock Text="{Binding EmptyStateTitle}"
                       FontSize="18" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       TextAlignment="Center" TextWrapping="Wrap"
                       HorizontalAlignment="Center" />
            <!-- Beschreibung -->
            <TextBlock Text="{Binding EmptyStateSubtitle}"
                       FontSize="13"
                       Foreground="{DynamicResource TextMutedBrush}"
                       TextAlignment="Center" TextWrapping="Wrap"
                       MaxWidth="280"
                       HorizontalAlignment="Center" />
            <!-- 3 Feature-Hinweise -->
            <StackPanel Spacing="8" HorizontalAlignment="Center">
              <StackPanel Orientation="Horizontal" Spacing="8">
                <Border Width="6" Height="6" CornerRadius="3" Background="#8B5CF6"
                        VerticalAlignment="Center" />
                <TextBlock Text="{Binding QuickAddWeightLabel}"
                           FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
              <StackPanel Orientation="Horizontal" Spacing="8">
                <Border Width="6" Height="6" CornerRadius="3" Background="#22C55E"
                        VerticalAlignment="Center" />
                <TextBlock Text="{loc:Translate CalcWater}"
                           FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
              <StackPanel Orientation="Horizontal" Spacing="8">
                <Border Width="6" Height="6" CornerRadius="3" Background="#F59E0B"
                        VerticalAlignment="Center" />
                <TextBlock Text="{loc:Translate CalcCalories}"
                           FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
            </StackPanel>
            <!-- Hint mit Pfeil -->
            <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center"
                        Margin="0,4,0,0">
              <mi:MaterialIcon Kind="ArrowDownBold" Width="14" Height="14"
                               Foreground="{DynamicResource PrimaryBrush}" />
              <TextBlock Text="{Binding EmptyStateHint}"
                         FontSize="11" FontStyle="Italic"
                         Foreground="{DynamicResource PrimaryBrush}" />
            </StackPanel>
          </StackPanel>
        </Border>

        <!-- ========== Quick Actions Row ========== -->
        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="3" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <!-- +kg Button (lila) -->
          <Button Grid.Column="0" CornerRadius="12" Height="48" Padding="6"
                  HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                  Command="{Binding OpenWeightQuickAddCommand}">
            <i:Interaction.Behaviors>
              <behaviors:TapScaleBehavior PressedScale="0.95" />
            </i:Interaction.Behaviors>
            <Button.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#8B5CF6" Offset="0" />
                <GradientStop Color="#7C3AED" Offset="1" />
              </LinearGradientBrush>
            </Button.Background>
            <StackPanel Orientation="Horizontal" Spacing="6" HorizontalAlignment="Center">
              <mi:MaterialIcon Kind="ScaleBathroom" Width="18" Height="18" Foreground="White" />
              <TextBlock Text="+kg" FontSize="14" FontWeight="Bold" Foreground="White"
                         VerticalAlignment="Center" />
            </StackPanel>
          </Button>

          <!-- +250 ml Button (grün) -->
          <Button Grid.Column="1" CornerRadius="12" Height="48" Padding="6"
                  HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                  Command="{Binding QuickAddWaterCommand}" CommandParameter="250">
            <i:Interaction.Behaviors>
              <behaviors:TapScaleBehavior PressedScale="0.95" />
            </i:Interaction.Behaviors>
            <Button.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#22C55E" Offset="0" />
                <GradientStop Color="#16A34A" Offset="1" />
              </LinearGradientBrush>
            </Button.Background>
            <StackPanel Orientation="Horizontal" Spacing="6" HorizontalAlignment="Center">
              <mi:MaterialIcon Kind="Water" Width="18" Height="18" Foreground="White" />
              <TextBlock Text="+250 ml" FontSize="14" FontWeight="Bold" Foreground="White"
                         VerticalAlignment="Center" />
            </StackPanel>
          </Button>

          <!-- +kcal Button (orange) -->
          <Button Grid.Column="2" CornerRadius="12" Height="48" Padding="6"
                  HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                  Command="{Binding OpenFoodQuickAddCommand}">
            <i:Interaction.Behaviors>
              <behaviors:TapScaleBehavior PressedScale="0.95" />
            </i:Interaction.Behaviors>
            <Button.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#F59E0B" Offset="0" />
                <GradientStop Color="#D97706" Offset="1" />
              </LinearGradientBrush>
            </Button.Background>
            <StackPanel Orientation="Horizontal" Spacing="6" HorizontalAlignment="Center">
              <mi:MaterialIcon Kind="Fire" Width="18" Height="18" Foreground="White" />
              <TextBlock Text="+kcal" FontSize="14" FontWeight="Bold" Foreground="White"
                         VerticalAlignment="Center" />
            </StackPanel>
          </Button>
        </Grid>

        <!-- ========== Weight Quick-Add Panel ========== -->
        <Border Classes="Card StatsCard" Padding="16" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding ShowWeightQuickAdd}">
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#8B5CF6" Offset="0" />
              <GradientStop Color="#6D28D9" Offset="1" />
            </LinearGradientBrush>
          </Border.Background>
          <StackPanel Spacing="12">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="ScaleBathroom" Width="20" Height="20" Foreground="White" />
              <TextBlock Text="{Binding QuickAddWeightLabel}"
                         FontSize="16" FontWeight="Bold" Foreground="White"
                         VerticalAlignment="Center" />
            </StackPanel>
            <NumericUpDown Value="{Binding QuickAddWeight}"
                          Minimum="20" Maximum="500" Increment="0.1"
                          FormatString="F1"
                          HorizontalAlignment="Stretch"
                          FontSize="18" />
            <Grid ColumnDefinitions="*,12,*">
              <Button Grid.Column="0" CornerRadius="10" Height="40"
                      HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                      Background="#33FFFFFF"
                      Command="{Binding CancelWeightQuickAddCommand}">
                <TextBlock Text="{loc:Translate Cancel}" FontSize="14" Foreground="White" />
              </Button>
              <Button Grid.Column="2" CornerRadius="10" Height="40"
                      HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                      Background="White"
                      Command="{Binding SaveWeightQuickAddCommand}">
                <TextBlock Text="{loc:Translate Save}" FontSize="14" FontWeight="Bold" Foreground="#7C3AED" />
              </Button>
            </Grid>
          </StackPanel>
        </Border>

        <!-- ========== Daily Challenge Card (nur bei vorhandenen Daten) ========== -->
        <Border CornerRadius="12" Padding="14" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasDashboardData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="4" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#6366F1" Offset="0" />
              <GradientStop Color="#8B5CF6" Offset="1" />
            </LinearGradientBrush>
          </Border.Background>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
            <!-- Challenge Icon -->
            <Border Width="40" Height="40" CornerRadius="20" Background="#33FFFFFF"
                    VerticalAlignment="Center">
              <mi:MaterialIcon Kind="{Binding TodayChallenge.Icon}" Width="22" Height="22"
                               Foreground="White"
                               HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <!-- Challenge Info -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="4">
              <TextBlock Text="{Binding DailyChallengeLabel}"
                         FontSize="10" Foreground="#BBFFFFFF" />
              <TextBlock Text="{Binding ChallengeTitleText}"
                         FontSize="14" FontWeight="Bold" Foreground="White" />
              <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                <ProgressBar Value="{Binding ChallengeProgressValue}" Maximum="1.0"
                             Height="4" CornerRadius="2"
                             Foreground="#22C55E" Background="#33FFFFFF">
                  <ProgressBar.Transitions>
                    <Transitions>
                      <DoubleTransition Property="Value" Duration="0:0:0.5" />
                    </Transitions>
                  </ProgressBar.Transitions>
                </ProgressBar>
                <TextBlock Grid.Column="1" Text="{Binding ChallengeProgressText}"
                           FontSize="10" Foreground="#CCFFFFFF" VerticalAlignment="Center" />
              </Grid>
            </StackPanel>
            <!-- XP Badge -->
            <Border Grid.Column="2" CornerRadius="8" Padding="6,2"
                    Background="#33FFFFFF" VerticalAlignment="Top">
              <TextBlock Text="{Binding ChallengeXpText}"
                         FontSize="10" FontWeight="Bold" Foreground="White" />
            </Border>
          </Grid>
        </Border>

        <!-- ========== Streak Card (nur bei vorhandenen Daten) ========== -->
        <Border Classes="Card StatsCard" Padding="14" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasDashboardData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="5" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <Grid ColumnDefinitions="Auto,*,Auto">
            <!-- Flammen-Icon mit Gradient + Puls-Animation -->
            <Border Grid.Column="0" Width="44" Height="44" CornerRadius="12" Margin="0,0,12,0"
                    Classes.StreakFlame="{Binding HasStreak}">
              <Border.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="#F59E0B" Offset="0" />
                  <GradientStop Color="#EF4444" Offset="1" />
                </LinearGradientBrush>
              </Border.Background>
              <mi:MaterialIcon Kind="Fire" Width="24" Height="24"
                               Foreground="White"
                               HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <!-- Streak-Text -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
              <TextBlock Text="{Binding StreakTitleText}"
                         FontSize="13" Foreground="{DynamicResource TextMutedBrush}" />
              <TextBlock Text="{Binding StreakDisplay}"
                         FontSize="18" FontWeight="Bold"
                         Foreground="{DynamicResource TextPrimaryBrush}" />
            </StackPanel>
            <!-- Best-Streak Badge -->
            <Border Grid.Column="2" VerticalAlignment="Center"
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="8" Padding="8,4"
                    IsVisible="{Binding HasStreak}">
              <TextBlock Text="{Binding StreakBestDisplay}"
                         FontSize="11" Foreground="{DynamicResource TextMutedBrush}" />
            </Border>
          </Grid>
        </Border>

        <!-- ========== Recent Badges ========== -->
        <Border Classes="Card StatsCard" Padding="12" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasRecentAchievements}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="6" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <Grid ColumnDefinitions="*,Auto">
            <StackPanel Spacing="8">
              <TextBlock Text="{Binding BadgesLabel}"
                         FontSize="13" FontWeight="SemiBold"
                         Foreground="{DynamicResource TextPrimaryBrush}" />
              <ItemsControl ItemsSource="{Binding RecentAchievements}">
                <ItemsControl.ItemsPanel>
                  <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal" Spacing="8" />
                  </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                  <DataTemplate DataType="models:FitnessAchievement">
                    <Border Width="36" Height="36" CornerRadius="18">
                      <Border.Background>
                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                          <GradientStop Color="{DynamicResource PrimaryColor}" Offset="0" />
                          <GradientStop Color="{DynamicResource AccentColor}" Offset="1" />
                        </LinearGradientBrush>
                      </Border.Background>
                      <mi:MaterialIcon Kind="{Binding Icon}" Width="18" Height="18"
                                       Foreground="White"
                                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>
            </StackPanel>
            <!-- "Alle anzeigen" Button -->
            <Button Grid.Column="1" Classes="Text" VerticalAlignment="Center"
                    Command="{Binding OpenAchievementsCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <StackPanel Orientation="Horizontal" Spacing="4">
                <TextBlock Text="{Binding ShowAllLabel}"
                           FontSize="11" Foreground="{DynamicResource PrimaryBrush}" />
                <mi:MaterialIcon Kind="ChevronRight" Width="16" Height="16"
                                 Foreground="{DynamicResource PrimaryBrush}" />
              </StackPanel>
            </Button>
          </Grid>
        </Border>

        <!-- ========== Aktivitäts-Heatmap ========== -->
        <Border Classes="Card StatsCard" Padding="14" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasHeatmapData}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="7" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <StackPanel Spacing="10">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="CalendarMonth" Width="18" Height="18"
                               Foreground="{DynamicResource PrimaryBrush}" />
              <TextBlock Text="{loc:Translate ActivityCalendar}"
                         FontSize="14" FontWeight="SemiBold"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
            </StackPanel>
            <!-- Heatmap -->
            <ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Disabled">
              <uiControls:HeatmapCalendar Data="{Binding HeatmapData}"
                                           Months="3"
                                           CellSize="11"
                                           CellSpacing="2" />
            </ScrollViewer>
            <!-- Legende -->
            <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Right">
              <TextBlock Text="{loc:Translate LessActive}" FontSize="10"
                         Foreground="{DynamicResource TextMutedBrush}"
                         VerticalAlignment="Center" />
              <StackPanel Orientation="Horizontal" Spacing="2">
                <Border Width="10" Height="10" CornerRadius="2"
                        Background="{DynamicResource BorderSubtleBrush}" />
                <Border Width="10" Height="10" CornerRadius="2" Opacity="0.25"
                        Background="{DynamicResource PrimaryBrush}" />
                <Border Width="10" Height="10" CornerRadius="2" Opacity="0.5"
                        Background="{DynamicResource PrimaryBrush}" />
                <Border Width="10" Height="10" CornerRadius="2" Opacity="0.75"
                        Background="{DynamicResource PrimaryBrush}" />
                <Border Width="10" Height="10" CornerRadius="2"
                        Background="{DynamicResource PrimaryBrush}" />
              </StackPanel>
              <TextBlock Text="{loc:Translate MoreActive}" FontSize="10"
                         Foreground="{DynamicResource TextMutedBrush}"
                         VerticalAlignment="Center" />
            </StackPanel>
          </StackPanel>
        </Border>

        <!-- ========== Weekly Comparison Card ========== -->
        <Border Classes="Card StatsCard" Padding="14" BoxShadow="{DynamicResource CardShadow}"
                IsVisible="{Binding HasWeeklyComparison}">
          <i:Interaction.Behaviors>
            <uiBehaviors:StaggerFadeInBehavior FixedIndex="8" StaggerDelay="80" BaseDuration="300" />
          </i:Interaction.Behaviors>
          <StackPanel Spacing="10">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="ChartBar" Width="18" Height="18"
                               Foreground="{DynamicResource PrimaryBrush}" />
              <TextBlock Text="{Binding WeeklyComparisonLabel}"
                         FontSize="14" FontWeight="SemiBold"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
            </StackPanel>
            <!-- Vergleichs-Grid -->
            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto"
                  ColumnSpacing="12" RowSpacing="8">
              <!-- Kalorien -->
              <mi:MaterialIcon Grid.Row="0" Kind="Fire" Width="16" Height="16"
                               VerticalAlignment="Center">
                <mi:MaterialIcon.Foreground>
                  <SolidColorBrush Color="{Binding WeeklyCaloriesColor}" />
                </mi:MaterialIcon.Foreground>
              </mi:MaterialIcon>
              <TextBlock Grid.Row="0" Grid.Column="1"
                         Text="{Binding WeeklyCaloriesChange}"
                         FontSize="12" Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
              <!-- Wasser -->
              <mi:MaterialIcon Grid.Row="1" Kind="Water" Width="16" Height="16"
                               VerticalAlignment="Center">
                <mi:MaterialIcon.Foreground>
                  <SolidColorBrush Color="{Binding WeeklyWaterColor}" />
                </mi:MaterialIcon.Foreground>
              </mi:MaterialIcon>
              <TextBlock Grid.Row="1" Grid.Column="1"
                         Text="{Binding WeeklyWaterChange}"
                         FontSize="12" Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
              <!-- Gewicht -->
              <mi:MaterialIcon Grid.Row="2" Kind="ScaleBathroom" Width="16" Height="16"
                               VerticalAlignment="Center">
                <mi:MaterialIcon.Foreground>
                  <SolidColorBrush Color="{Binding WeeklyWeightColor}" />
                </mi:MaterialIcon.Foreground>
              </mi:MaterialIcon>
              <TextBlock Grid.Row="2" Grid.Column="1"
                         Text="{Binding WeeklyWeightChange}"
                         FontSize="12" Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
              <!-- Logging-Tage -->
              <mi:MaterialIcon Grid.Row="3" Kind="CalendarCheck" Width="16" Height="16"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Center" />
              <TextBlock Grid.Row="3" Grid.Column="1"
                         Text="{Binding WeeklyLogDays}"
                         FontSize="12" Foreground="{DynamicResource TextMutedBrush}"
                         VerticalAlignment="Center" />
            </Grid>
          </StackPanel>
        </Border>

        <!-- ========== Abend-Zusammenfassung (nach 20 Uhr) ========== -->
        <Border Classes="Card StatsCard" IsVisible="{Binding ShowEveningSummary}" Margin="0,0,0,12">
          <i:Interaction.Behaviors>
            <behaviors:FadeInBehavior Duration="400" />
          </i:Interaction.Behaviors>
          <Border.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
              <GradientStop Color="#1E293B" Offset="0" />
              <GradientStop Color="#0F172A" Offset="1" />
            </LinearGradientBrush>
          </Border.Background>
          <StackPanel Spacing="8">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="WeatherNight" Width="20" Height="20" Foreground="#818CF8" />
              <TextBlock Text="{Binding EveningSummaryLabel}"
                         FontSize="14" FontWeight="SemiBold" Foreground="White" />
            </StackPanel>
            <TextBlock Text="{Binding EveningSummaryText}"
                       FontSize="16" FontWeight="Bold" Foreground="White" />
            <TextBlock Text="{Binding EveningSummaryRating}"
                       FontSize="13">
              <TextBlock.Foreground>
                <SolidColorBrush Color="{Binding EveningSummaryRatingColor}" />
              </TextBlock.Foreground>
            </TextBlock>
          </StackPanel>
        </Border>

        <!-- ========== Calculators Section ========== -->
        <StackPanel Spacing="12">
          <StackPanel Orientation="Horizontal" Spacing="8">
            <Border Background="{DynamicResource PrimaryBrush}"
                    CornerRadius="6" Padding="8,4">
              <TextBlock Text="{Binding SectionCalculatorsText}" FontSize="11" FontWeight="Bold" Foreground="White" />
            </Border>
            <TextBlock Text="{loc:Translate MyCalculators}"
                       FontSize="18" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       VerticalAlignment="Center" />
          </StackPanel>

          <!-- Calculator Grid (2 Spalten) -->
          <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="12" RowSpacing="12">

            <!-- BMI -->
            <Button Grid.Row="0" Grid.Column="0"
                    CornerRadius="12" Height="120" Padding="8"
                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                    Command="{Binding OpenBmiCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="{DynamicResource CardColor}" Offset="0" />
                  <GradientStop Color="{DynamicResource CardHoverColor}" Offset="1" />
                </LinearGradientBrush>
              </Button.Background>
              <StackPanel VerticalAlignment="Center" Spacing="8">
                <Border CornerRadius="12" Width="48" Height="48" HorizontalAlignment="Center">
                  <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#3B82F6" Offset="0" />
                      <GradientStop Color="#2563EB" Offset="1" />
                    </LinearGradientBrush>
                  </Border.Background>
                  <mi:MaterialIcon Kind="ScaleBalance" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcBmi}"
                           FontSize="13" FontWeight="Bold" TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
              </StackPanel>
            </Button>

            <!-- Kalorien -->
            <Button Grid.Row="0" Grid.Column="1"
                    CornerRadius="12" Height="120" Padding="8"
                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                    Command="{Binding OpenCaloriesCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="{DynamicResource CardColor}" Offset="0" />
                  <GradientStop Color="{DynamicResource CardHoverColor}" Offset="1" />
                </LinearGradientBrush>
              </Button.Background>
              <StackPanel VerticalAlignment="Center" Spacing="8">
                <Border CornerRadius="12" Width="48" Height="48" HorizontalAlignment="Center">
                  <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#F59E0B" Offset="0" />
                      <GradientStop Color="#D97706" Offset="1" />
                    </LinearGradientBrush>
                  </Border.Background>
                  <mi:MaterialIcon Kind="Fire" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcCalories}"
                           FontSize="13" FontWeight="Bold" TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
              </StackPanel>
            </Button>

            <!-- Wasser -->
            <Button Grid.Row="1" Grid.Column="0"
                    CornerRadius="12" Height="120" Padding="8"
                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                    Command="{Binding OpenWaterCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="{DynamicResource CardColor}" Offset="0" />
                  <GradientStop Color="{DynamicResource CardHoverColor}" Offset="1" />
                </LinearGradientBrush>
              </Button.Background>
              <StackPanel VerticalAlignment="Center" Spacing="8">
                <Border CornerRadius="12" Width="48" Height="48" HorizontalAlignment="Center">
                  <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#22C55E" Offset="0" />
                      <GradientStop Color="#16A34A" Offset="1" />
                    </LinearGradientBrush>
                  </Border.Background>
                  <mi:MaterialIcon Kind="Water" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcWater}"
                           FontSize="13" FontWeight="Bold" TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
              </StackPanel>
            </Button>

            <!-- Idealgewicht -->
            <Button Grid.Row="1" Grid.Column="1"
                    CornerRadius="12" Height="120" Padding="8"
                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                    Command="{Binding OpenIdealWeightCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="{DynamicResource CardColor}" Offset="0" />
                  <GradientStop Color="{DynamicResource CardHoverColor}" Offset="1" />
                </LinearGradientBrush>
              </Button.Background>
              <StackPanel VerticalAlignment="Center" Spacing="8">
                <Border CornerRadius="12" Width="48" Height="48" HorizontalAlignment="Center">
                  <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#8B5CF6" Offset="0" />
                      <GradientStop Color="#7C3AED" Offset="1" />
                    </LinearGradientBrush>
                  </Border.Background>
                  <mi:MaterialIcon Kind="HumanMaleHeight" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcIdealWeight}"
                           FontSize="13" FontWeight="Bold" TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
              </StackPanel>
            </Button>

            <!-- Koerperfett -->
            <Button Grid.Row="2" Grid.Column="0"
                    CornerRadius="12" Height="120" Padding="8"
                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                    Command="{Binding OpenBodyFatCommand}">
              <i:Interaction.Behaviors>
                <behaviors:TapScaleBehavior PressedScale="0.95" />
              </i:Interaction.Behaviors>
              <Button.Background>
                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                  <GradientStop Color="{DynamicResource CardColor}" Offset="0" />
                  <GradientStop Color="{DynamicResource CardHoverColor}" Offset="1" />
                </LinearGradientBrush>
              </Button.Background>
              <StackPanel VerticalAlignment="Center" Spacing="8">
                <Border CornerRadius="12" Width="48" Height="48" HorizontalAlignment="Center">
                  <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                      <GradientStop Color="#EF4444" Offset="0" />
                      <GradientStop Color="#DC2626" Offset="1" />
                    </LinearGradientBrush>
                  </Border.Background>
                  <mi:MaterialIcon Kind="PercentCircle" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcBodyFat}"
                           FontSize="13" FontWeight="Bold" TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
              </StackPanel>
            </Button>

          </Grid>
        </StackPanel>

        <!-- ========== Premium-Card ========== -->
        <Button Background="Transparent" Padding="0"
                HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                IsVisible="{Binding !IsPremium}"
                Command="{Binding OpenSettingsCommand}">
          <Border CornerRadius="16" Padding="16" ClipToBounds="True">
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="{DynamicResource AccentColor}" Offset="0" />
                <GradientStop Color="{DynamicResource SecondaryColor}" Offset="1" />
              </LinearGradientBrush>
            </Border.Background>
            <Panel>
              <Ellipse Width="100" Height="100"
                       Opacity="0.1" Fill="White"
                       HorizontalAlignment="Right" VerticalAlignment="Center"
                       Margin="0,0,-20,0" />
              <Grid ColumnDefinitions="Auto,*,Auto">
                <Border Grid.Column="0" Width="44" Height="44"
                        CornerRadius="22" Background="#33FFFFFF"
                        Margin="0,0,14,0">
                  <mi:MaterialIcon Kind="Star" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                  <TextBlock Text="{Binding RemoveAdsText}"
                             FontSize="15" FontWeight="Bold" Foreground="White" />
                  <TextBlock Text="{Binding PremiumPriceText}"
                             FontSize="12" Foreground="#CCFFFFFF" />
                </StackPanel>
                <mi:MaterialIcon Grid.Column="2"
                                 Kind="ChevronRight" Width="20" Height="20"
                                 Foreground="#AAFFFFFF" VerticalAlignment="Center" />
              </Grid>
            </Panel>
          </Border>
        </Button>

        <!-- ========== Disclaimer ========== -->
        <Border Background="{DynamicResource SurfaceBrush}"
                CornerRadius="8" Padding="12"
                BoxShadow="{DynamicResource CardShadow}"
                Margin="0,4,0,0">
          <StackPanel Orientation="Horizontal" Spacing="8">
            <mi:MaterialIcon Kind="InformationOutline" Width="16" Height="16"
                             Foreground="{DynamicResource TextMutedBrush}"
                             VerticalAlignment="Top" Margin="0,2,0,0" />
            <TextBlock Text="{loc:Translate Disclaimer}"
                       FontSize="11"
                       Foreground="{DynamicResource TextMutedBrush}"
                       TextWrapping="Wrap" />
          </StackPanel>
        </Border>

      </StackPanel>
    </StackPanel>
  </ScrollViewer>

</UserControl>
