<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:FitnessRechner.ViewModels"
             xmlns:mi="using:Material.Icons.Avalonia"
             xmlns:loc="using:MeineApps.Core.Ava.Localization"
             x:Class="FitnessRechner.Views.HomeView"
             x:DataType="vm:MainViewModel">

  <Grid RowDefinitions="Auto,*">

    <!-- Header -->
    <Border Grid.Row="0"
            Background="{DynamicResource DisplayBackgroundBrush}"
            Padding="20,24,20,20">
      <StackPanel Spacing="4">
        <TextBlock Text="{loc:Translate AppName}"
                   Classes="PageTitle" />
        <TextBlock Text="{loc:Translate AppDescription}"
                   Classes="Caption"
                   TextWrapping="Wrap" />
      </StackPanel>
    </Border>

    <!-- Content -->
    <ScrollViewer Grid.Row="1" Padding="16">
      <StackPanel Spacing="16">

        <!-- ==================== Today Dashboard Card ==================== -->
        <Border Classes="Card" Padding="16"
                IsVisible="{Binding HasDashboardData}">
          <StackPanel Spacing="12">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="CalendarToday" Width="20" Height="20"
                               Foreground="{DynamicResource PrimaryBrush}" />
              <TextBlock Text="{loc:Translate TodayDashboard}"
                         FontSize="16" FontWeight="Bold"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         VerticalAlignment="Center" />
            </StackPanel>

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="12" RowSpacing="12">

              <!-- Weight -->
              <Border Grid.Row="0" Grid.Column="0"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border Background="{DynamicResource AccentBrush}"
                          CornerRadius="10"
                          Width="40" Height="40"
                          HorizontalAlignment="Center">
                    <mi:MaterialIcon Kind="ScaleBathroom" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayWeightDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="kg" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

              <!-- BMI -->
              <Border Grid.Row="0" Grid.Column="1"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border Background="{DynamicResource InfoBrush}"
                          CornerRadius="10"
                          Width="40" Height="40"
                          HorizontalAlignment="Center">
                    <mi:MaterialIcon Kind="ScaleBalance" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayBmiDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="BMI" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

              <!-- Water -->
              <Border Grid.Row="1" Grid.Column="0"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border Background="{DynamicResource SuccessBrush}"
                          CornerRadius="10"
                          Width="40" Height="40"
                          HorizontalAlignment="Center">
                    <mi:MaterialIcon Kind="Water" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayWaterDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="ml" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

              <!-- Calories -->
              <Border Grid.Row="1" Grid.Column="1"
                      Background="{DynamicResource SurfaceBrush}"
                      CornerRadius="10" Padding="12">
                <StackPanel Spacing="6" HorizontalAlignment="Center">
                  <Border Background="{DynamicResource WarningBrush}"
                          CornerRadius="10"
                          Width="40" Height="40"
                          HorizontalAlignment="Center">
                    <mi:MaterialIcon Kind="Fire" Width="20" Height="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center" VerticalAlignment="Center" />
                  </Border>
                  <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding TodayCaloriesDisplay}"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                    <TextBlock Text="kcal" FontSize="12"
                               Foreground="{DynamicResource TextMutedBrush}"
                               VerticalAlignment="Bottom" Margin="0,0,0,2" />
                  </StackPanel>
                </StackPanel>
              </Border>

            </Grid>
          </StackPanel>
        </Border>

        <!-- ==================== Calculators Section ==================== -->
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,4">
          <Border Background="{DynamicResource AccentBrush}"
                  CornerRadius="6"
                  Padding="8,4">
            <TextBlock Text="{loc:Translate Calculators}" FontSize="11" FontWeight="Bold" Foreground="White" />
          </Border>
          <TextBlock Text="{loc:Translate MyCalculators}"
                     FontSize="18"
                     FontWeight="Bold"
                     Foreground="{DynamicResource TextPrimaryBrush}"
                     VerticalAlignment="Center" />
        </StackPanel>

        <!-- Calculator Grid (2 columns, 3 rows) -->
        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="12" RowSpacing="12">

          <!-- BMI Calculator -->
          <Button Grid.Row="0" Grid.Column="0"
                  Command="{Binding OpenBmiCommand}"
                  Background="Transparent" BorderThickness="0"
                  Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                  CornerRadius="12" Cursor="Hand">
            <Border Classes="Card" MinHeight="150" Padding="12">
              <StackPanel VerticalAlignment="Center" Spacing="6">
                <Border Background="{DynamicResource InfoBrush}"
                        CornerRadius="12"
                        Width="48" Height="48"
                        HorizontalAlignment="Center">
                  <mi:MaterialIcon Kind="ScaleBalance" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcBmi}"
                           FontSize="13"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate CalcBmiDesc}"
                           FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           TextAlignment="Center" TextWrapping="Wrap" />
              </StackPanel>
            </Border>
          </Button>

          <!-- Calorie Calculator -->
          <Button Grid.Row="0" Grid.Column="1"
                  Command="{Binding OpenCaloriesCommand}"
                  Background="Transparent" BorderThickness="0"
                  Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                  CornerRadius="12" Cursor="Hand">
            <Border Classes="Card" MinHeight="150" Padding="12">
              <StackPanel VerticalAlignment="Center" Spacing="6">
                <Border Background="{DynamicResource WarningBrush}"
                        CornerRadius="12"
                        Width="48" Height="48"
                        HorizontalAlignment="Center">
                  <mi:MaterialIcon Kind="Fire" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcCalories}"
                           FontSize="13"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate CalcCaloriesDesc}"
                           FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           TextAlignment="Center" TextWrapping="Wrap" />
              </StackPanel>
            </Border>
          </Button>

          <!-- Water Calculator -->
          <Button Grid.Row="1" Grid.Column="0"
                  Command="{Binding OpenWaterCommand}"
                  Background="Transparent" BorderThickness="0"
                  Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                  CornerRadius="12" Cursor="Hand">
            <Border Classes="Card" MinHeight="150" Padding="12">
              <StackPanel VerticalAlignment="Center" Spacing="6">
                <Border Background="{DynamicResource SuccessBrush}"
                        CornerRadius="12"
                        Width="48" Height="48"
                        HorizontalAlignment="Center">
                  <mi:MaterialIcon Kind="Water" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcWater}"
                           FontSize="13"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate CalcWaterDesc}"
                           FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           TextAlignment="Center" TextWrapping="Wrap" />
              </StackPanel>
            </Border>
          </Button>

          <!-- Ideal Weight Calculator -->
          <Button Grid.Row="1" Grid.Column="1"
                  Command="{Binding OpenIdealWeightCommand}"
                  Background="Transparent" BorderThickness="0"
                  Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                  CornerRadius="12" Cursor="Hand">
            <Border Classes="Card" MinHeight="150" Padding="12">
              <StackPanel VerticalAlignment="Center" Spacing="6">
                <Border Background="{DynamicResource SecondaryBrush}"
                        CornerRadius="12"
                        Width="48" Height="48"
                        HorizontalAlignment="Center">
                  <mi:MaterialIcon Kind="HumanMaleHeight" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcIdealWeight}"
                           FontSize="13"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate CalcIdealWeightDesc}"
                           FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           TextAlignment="Center" TextWrapping="Wrap" />
              </StackPanel>
            </Border>
          </Button>

          <!-- Body Fat Calculator -->
          <Button Grid.Row="2" Grid.Column="0"
                  Command="{Binding OpenBodyFatCommand}"
                  Background="Transparent" BorderThickness="0"
                  Padding="0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                  CornerRadius="12" Cursor="Hand">
            <Border Classes="Card" MinHeight="150" Padding="12">
              <StackPanel VerticalAlignment="Center" Spacing="6">
                <Border Background="{DynamicResource AccentBrush}"
                        CornerRadius="12"
                        Width="48" Height="48"
                        HorizontalAlignment="Center">
                  <mi:MaterialIcon Kind="PercentCircle" Width="24" Height="24"
                                   Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="{loc:Translate CalcBodyFat}"
                           FontSize="13"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate CalcBodyFatDesc}"
                           FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           TextAlignment="Center" TextWrapping="Wrap" />
              </StackPanel>
            </Border>
          </Button>

        </Grid>

        <!-- ==================== Premium Benefits Card ==================== -->
        <Border Background="{DynamicResource SurfaceBrush}"
                CornerRadius="12"
                Padding="16"
                Margin="0,8,0,0"
                IsVisible="{Binding !IsPremium}"
                Cursor="Hand">
          <StackPanel Spacing="12">
            <StackPanel Orientation="Horizontal" Spacing="12">
              <Border Background="{DynamicResource AccentBrush}"
                      CornerRadius="8"
                      Width="40" Height="40">
                <mi:MaterialIcon Kind="Crown" Width="20" Height="20"
                                 Foreground="White"
                                 HorizontalAlignment="Center" VerticalAlignment="Center" />
              </Border>
              <StackPanel VerticalAlignment="Center" Spacing="2">
                <TextBlock Text="{loc:Translate PremiumBenefitsTitle}"
                           FontSize="14" FontWeight="Bold"
                           Foreground="{DynamicResource TextPrimaryBrush}" />
                <TextBlock Text="{loc:Translate RemoveAdsDesc}"
                           FontSize="12"
                           Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
            </StackPanel>

            <StackPanel Spacing="4" Margin="52,0,0,0">
              <StackPanel Orientation="Horizontal" Spacing="6">
                <mi:MaterialIcon Kind="Check" Width="16" Height="16"
                                 Foreground="{DynamicResource SuccessBrush}" />
                <TextBlock Text="{loc:Translate BenefitTracking}" FontSize="13"
                           Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
              <StackPanel Orientation="Horizontal" Spacing="6">
                <mi:MaterialIcon Kind="Check" Width="16" Height="16"
                                 Foreground="{DynamicResource SuccessBrush}" />
                <TextBlock Text="{loc:Translate BenefitHistory}" FontSize="13"
                           Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
              <StackPanel Orientation="Horizontal" Spacing="6">
                <mi:MaterialIcon Kind="Check" Width="16" Height="16"
                                 Foreground="{DynamicResource SuccessBrush}" />
                <TextBlock Text="{loc:Translate BenefitNoAds}" FontSize="13"
                           Foreground="{DynamicResource TextSecondaryBrush}" />
              </StackPanel>
            </StackPanel>
          </StackPanel>
        </Border>

        <!-- ==================== Disclaimer ==================== -->
        <Border Background="{DynamicResource SurfaceBrush}"
                CornerRadius="8"
                Padding="12"
                Margin="0,4,0,16">
          <StackPanel Orientation="Horizontal" Spacing="8">
            <mi:MaterialIcon Kind="InformationOutline" Width="16" Height="16"
                             Foreground="{DynamicResource TextMutedBrush}"
                             VerticalAlignment="Top" Margin="0,2,0,0" />
            <TextBlock Text="{loc:Translate Disclaimer}"
                       FontSize="11"
                       Foreground="{DynamicResource TextMutedBrush}"
                       TextWrapping="Wrap" />
          </StackPanel>
        </Border>

      </StackPanel>
    </ScrollViewer>

  </Grid>

</UserControl>
