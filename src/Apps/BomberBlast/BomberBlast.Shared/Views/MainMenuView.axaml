<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:BomberBlast.ViewModels"
             xmlns:mi="using:Material.Icons.Avalonia"
             xmlns:loc="using:MeineApps.Core.Ava.Localization"
             xmlns:skia="using:Avalonia.Labs.Controls"
             x:Class="BomberBlast.Views.MainMenuView"
             x:DataType="vm:MainMenuViewModel">

  <!-- Background -->
  <Panel Background="{DynamicResource BackgroundBrush}">
    <Border Background="{DynamicResource SurfaceBrush}" Opacity="0.3" />

    <!-- Hintergrund-Partikel (SkiaSharp Canvas) -->
    <skia:SKCanvasView x:Name="BgCanvas" />

    <Grid RowDefinitions="*" Margin="24,16,24,80">

      <!-- Main Content: 2-Column Layout -->
      <Grid Grid.Row="0"
            ColumnDefinitions="*,2*"
            VerticalAlignment="Center">

        <!-- Links: Titel + Version + Coins -->
        <StackPanel Grid.Column="0"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center"
                    Spacing="0">
          <TextBlock Text="BOMBER"
                     FontSize="40"
                     FontWeight="Bold"
                     Foreground="{DynamicResource SecondaryBrush}"
                     HorizontalAlignment="Center" />
          <TextBlock Text="BLAST"
                     FontSize="40"
                     FontWeight="Bold"
                     Foreground="{DynamicResource AccentBrush}"
                     HorizontalAlignment="Center"
                     Margin="0,-12,0,0" />

          <!-- Coin-Badge -->
          <Border Background="{DynamicResource SurfaceBrush}"
                  CornerRadius="16"
                  Padding="14,8"
                  Margin="0,20,0,0"
                  HorizontalAlignment="Center">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="CircleMultiple" Width="20" Height="20"
                               Foreground="#FFD700" />
              <TextBlock Text="{Binding CoinsText}"
                         FontSize="17" FontWeight="SemiBold"
                         Foreground="#FFD700"
                         VerticalAlignment="Center" />
            </StackPanel>
          </Border>

          <TextBlock Text="{Binding VersionText}"
                     FontSize="12"
                     Foreground="{DynamicResource TextMutedBrush}"
                     HorizontalAlignment="Center"
                     Margin="0,12,0,0" />
        </StackPanel>

        <!-- Rechts: Button Grid (2 Spalten) -->
        <Grid Grid.Column="1"
              ColumnDefinitions="*,*"
              RowDefinitions="Auto,Auto,Auto,Auto,Auto"
              Margin="24,0,0,0"
              VerticalAlignment="Center">

          <!-- Primaere Buttons (Linke Spalte) -->
          <Button Grid.Row="0" Grid.Column="0"
                  Content="{loc:Translate StoryMode}"
                  Classes="Primary GameButton"
                  Command="{Binding StoryModeCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="0,0,6,6"
                  Height="48" />

          <Button Grid.Row="1" Grid.Column="0"
                  Content="{loc:Translate Continue}"
                  Classes="Primary GameButton"
                  Background="{DynamicResource SuccessBrush}"
                  Command="{Binding ContinueCommand}"
                  IsVisible="{Binding HasProgress}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="0,0,6,6"
                  Height="48" />

          <Button Grid.Row="2" Grid.Column="0"
                  Content="{loc:Translate ArcadeMode}"
                  Classes="Primary GameButton"
                  Background="{DynamicResource ErrorBrush}"
                  Command="{Binding ArcadeModeCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="0,0,6,6"
                  Height="48" />

          <Button Grid.Row="3" Grid.Column="0"
                  Content="{loc:Translate QuickPlay}"
                  Classes="Primary GameButton"
                  Background="{DynamicResource WarningBrush}"
                  Command="{Binding QuickPlayCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="0,0,6,6"
                  Height="48" />

          <!-- Sekundaere Buttons (Rechte Spalte) -->
          <Button Grid.Row="0" Grid.Column="1"
                  Classes="Secondary GameButton"
                  Command="{Binding ShopCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="6,0,0,6"
                  Height="48">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="Store" Width="18" Height="18"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
              <TextBlock Text="{loc:Translate ShopTitle}"
                         Foreground="{DynamicResource TextPrimaryBrush}" />
            </StackPanel>
          </Button>

          <Button Grid.Row="1" Grid.Column="1"
                  Content="{loc:Translate HighScores}"
                  Classes="Secondary GameButton"
                  Command="{Binding HighScoresCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="6,0,0,6"
                  Height="48" />

          <Button Grid.Row="2" Grid.Column="1"
                  Content="{loc:Translate Help}"
                  Classes="Secondary GameButton"
                  Command="{Binding HelpCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="6,0,0,6"
                  Height="48" />

          <Button Grid.Row="3" Grid.Column="1"
                  Content="{loc:Translate Settings}"
                  Classes="Secondary GameButton"
                  Command="{Binding SettingsCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="6,0,0,6"
                  Height="48" />

          <!-- Daily Challenge (Links) -->
          <Button Grid.Row="4" Grid.Column="0"
                  Classes="Primary GameButton"
                  Background="#FF6B00"
                  Command="{Binding DailyChallengeCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="0,6,6,0"
                  Height="48">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="Sword" Width="18" Height="18"
                               Foreground="White" />
              <TextBlock Text="{loc:Translate DailyChallengeTitle}"
                         Foreground="White"
                         FontSize="13" />
            </StackPanel>
          </Button>

          <!-- Achievements (Rechts) -->
          <Button Grid.Row="4" Grid.Column="1"
                  Classes="Secondary GameButton"
                  Command="{Binding AchievementsCommand}"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Center"
                  Margin="6,6,0,0"
                  Height="48">
            <StackPanel Orientation="Horizontal" Spacing="8">
              <mi:MaterialIcon Kind="Trophy" Width="18" Height="18"
                               Foreground="#FFD700" />
              <TextBlock Text="{loc:Translate AchievementsTitle}"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         FontSize="13" />
            </StackPanel>
          </Button>

        </Grid>
      </Grid>

    </Grid>
  </Panel>

</UserControl>
