# HandwerkerImperium (Avalonia)

> Fuer Build-Befehle, Conventions und Troubleshooting siehe [Haupt-CLAUDE.md](../../../CLAUDE.md)

## App-Beschreibung

Idle-Game: Baue dein Handwerker-Imperium auf, stelle Mitarbeiter ein, kaufe Werkzeuge, erforsche Upgrades, schalte neue Workshop-Typen frei. Verdiene Geld durch automatische Auftraege oder spiele Mini-Games.

**Version:** 2.0.8 (VersionCode 14) | **Package-ID:** com.meineapps.handwerkerimperium | **Status:** Geschlossener Test

## Haupt-Features

- **8 Workshop-Typen** (Tischlerei, Malerei, Sanitär, Elektrik, Landschaftsbau, Renovierung, Architekt, Generalunternehmer)
- **8 Mini-Games** (Sawing, Pipe Puzzle, Wiring, Painting, RoofTiling, Blueprint, DesignPuzzle, Inspection)
- **Worker-System** mit 10 Tiers (F/E/D/C/B/A/S/SS/SSS/Legendary)
- **Goldschrauben-Economy** (Premium-Währung für Boosts/Unlock)
- **Research Tree** (45 Upgrades in 3 Branches: Tools, Management, Marketing)
- **7 Gebäude** (Canteen, Storage, Office, Showroom, TrainingCenter, VehicleFleet, WorkshopExtension)
- **Daily Challenges** (3 pro Tag)
- **Daily Login Rewards** (30-Tage-Zyklus mit steigenden Belohnungen)
- **Achievements** (33 Erfolge)
- **Prestige-System** (7 Stufen: Bronze/Silver/Gold/Platin/Diamant/Meister/Legende, progressive Bewahrung)
- **Events** (8 zufällige Events + saisonaler Multiplikator, Intervall skaliert mit Prestige: 8h/30% bis 3h/50%)
- **Auftragstypen** (Standard/Large 1.8x/Weekly 4x 7-Tage-Deadline/Cooperation 2.5x Multi-Workshop)
- **Stammkunden** (Perfect-Rating → Wiederkehrende Kunden mit bis zu 1.5x Bonus, max 20)
- **Bulk Buy** (x1/x10/x100/Max für Workshop-Upgrades)
- **Hold-to-Upgrade** (Upgrade-Button gedrückt halten = schnelles Hochleveln, Zusammenfassung am Ende)
- **Milestone-Celebrations** (Spieler-Level 10/25/50/100/250/500/1000 mit Goldschrauben-Bonus, Workshop-Level 50/100/250/500/1000 mit 2-50 Goldschrauben)
- **Statistiken** (Gesamt-Verdienst, Workshop-Verteilung)
- **Feierabend-Rush** (2h 2x-Boost, 1x täglich gratis, danach 10 Goldschrauben)
- **Meisterwerkzeuge** (12 sammelbare Artefakte mit passiven Einkommens-Boni, 5 Seltenheitsstufen)
- **Lieferant-System** (Variable Rewards alle 2-5 Minuten: Geld, Schrauben, XP, Mood, Speed)
- **Prestige-Shop** (12 Items: Income, XP, Mood, Kosten, Rush, Lieferant, Goldschrauben)
- **Story-System** (25 Kapitel von NPC "Meister Hans" mit SkiaSharp-Portrait, 4 Stimmungen, Idle-/Blinzel-Animation, fortschrittsbasierte Freischaltung inkl. Prestige-Trigger, Geld/Schrauben/XP-Belohnungen)
- **Tutorial** (8-Schritte interaktiver Leitfaden beim ersten Start, Bottom-Sheet Overlay, überspringbar)
- **In-App Review** (Automatische Review-Prompts bei Meilensteinen: Level 20/50/100, erstes Prestige, 50 Aufträge)
- **Benachrichtigungen** (4 Typen: Forschung fertig, Lieferant wartet, Rush verfügbar, Daily Reward. Android: AlarmManager + BroadcastReceiver. Lokalisierte Nachrichten in 6 Sprachen via NotificationReceiver)
- **Google Play Games** (Leaderboards: Spieler-Level + Gesamtverdienst, Score-Submit + UI-Anzeige. Cloud-Save: NICHT verfügbar (Snapshots-API fehlt im NuGet-Binding v121.0.0.2). PlayersClient/LoadTopScores ebenfalls nicht verfügbar → Stub-Implementierungen. Gilden-Leaderboards für 5 Innungen (Platzhalter-IDs))
- **Audio + Haptik** (15 Sound-Effekte via SoundPool, 7 Vibrations-Muster. Android-spezifisch via Factory-Pattern)
- **Vorarbeiter-System** (12 Manager mit einzigartigen Fähigkeiten, freischaltbar durch Level/Prestige, aufwertbar Lv.1-5)
- **Turniere** (Wöchentliche MiniGame-Turniere mit 9 simulierten Gegnern, 3x/Tag gratis, Gold/Silber/Bronze-Rewards)
- **Battle Pass** (30 Tiers mit Free/Premium-Track, XP durch Aufträge/MiniGames/Upgrades/Challenges, 30-Tage-Saisons)
- **Saisonale Events** (4 Events/Jahr: Frühling/Sommer/Herbst/Winter mit Saisonwährung und Event-Shop)
- **Gilden/Innungen** (5 Innungen mit echten Spielern via Play Games Leaderboards, wöchentlichen Zielen, Gilden-Level-Boni)
- **Crafting-System** (13 Rezepte in 3 Tiers, Zwischenprodukte zwischen Workshops, Inventar + Verkauf)
- **Wöchentliche Missionen** (5 Missionen/Woche, höhere Ziele als Daily Challenges, 50 Goldschrauben Komplett-Bonus)
- **Automatisierung** (Auto-Collect Lv15+, Auto-Accept Lv25+, Auto-Assign Lv50+, Auto-ClaimDaily Premium. Toggles auf Dashboard/WorkshopView, GameLoop-Integration alle 5/60 Ticks)
- **Welcome Back Angebote** (24h+ Abwesenheit → Bonus-Pakete, Starter-Paket für Neulinge)
- **Glücksrad** (Täglicher Gratis-Spin, 8 Preiskategorien, SkiaSharp-Renderer mit Spin-Animation)
- **Ausrüstungs-System** (4 Typen x 4 Seltenheiten für Arbeiter, Drop nach MiniGames, Effizienz/Ermüdungs/Stimmungs-Boni)
- **Streak-Rettung** (Verlorene Login-Streaks für 5 Goldschrauben rettbar)

## Premium & Ads

### Premium-Modell
- **Preis**: 4,99 EUR (Lifetime)
- **Vorteile**: +50% Einkommen, +100% Goldschrauben aus Mini-Games, keine Werbung

### Rewarded (9 Placements)
1. `golden_screws` → 5 Goldschrauben (Dashboard)
2. `score_double` → Mini-Game Score verdoppeln
3. `market_refresh` → Arbeitermarkt-Pool neu wuerfeln
4. `workshop_speedup` → 2h Produktionsertrag sofort (WorkshopView)
5. `workshop_unlock` → Workshop ohne Level freischalten (Dashboard)
6. `worker_hire_bonus` → +1 Worker-Slot persistent (WorkerMarket)
7. `research_speedup` → Forschung sofort fertig gratis (ResearchView)
8. `daily_challenge_retry` → Challenge-Fortschritt zuruecksetzen (Dashboard)
9. `achievement_boost` → Achievement Progress +20% (AchievementsView)

## Architektur-Besonderheiten

### Game Loop
- **GameLoopService** (1-Sekunden-Takt via DispatcherTimer) → Idle-Einkommen, Kosten, Worker-States, Research-Timer, Event-Check
- **AutoSave** im GameLoop (alle 30 Sekunden) → GameState → JSON via SaveGameService
- **Research-/Gebäude-Effekte** werden pro Tick angewendet (EfficiencyBonus, CostReduction, WageReduction, ExtraWorkerSlots)

### Workshop-Typen
Enum: `Carpenter`, `Plumber`, `Electrician`, `Painter`, `Roofer`, `Contractor`, `Architect`, `GeneralContractor`
Jeder Typ hat: `BaseIncomeMultiplier`, `UnlockLevel`, `UnlockCost`, `RequiredPrestige`

### Worker-System
10 Tiers via Enum: `F` (0.4x), `E` (0.65x), `D` (1.0x), `C` (1.5x), `B` (2.25x), `A` (3.35x), `S` (4.9x), `SS` (7.25x), `SSS` (11.25x), `Legendary` (17.5x)
Löhne ~1.8x pro Tier (5/9/16/28/50/90/160/280/500/900 €/h). ROI sinkt sanft (~15%/Tier) statt steil (~50%/Tier).
`HireWorker()` → individuelle Marktpreise via `Worker.CalculateMarketPrice()`: Tier-Basis * Level-Skalierung * Talent (0.7x-1.3x) * Persönlichkeit (0.9x-1.2x) * Spezialisierung (+15%) * Effizienz-Position (0.85x-1.15x). A+ Tiers kosten zusätzlich Goldschrauben.
Tier-Farben: F=Grau, E=Gruen, D=#0E7490(Teal), C=#B45309(DarkOrange), B=Amber, A=Rot, S=Gold, SS=Lila, SSS=Cyan, Legendary=Rainbow-Gradient
**3 Training-Typen**: Efficiency (XP→Level→+Effizienz), Endurance (senkt FatiguePerHour, max -50%), Morale (senkt MoodDecayPerHour, max -50%). TrainingType Enum + Worker.EnduranceBonus/MoraleBonus (persistiert). Training-Typ-Auswahl + Echtzeit-Fortschrittsbalken in WorkerProfileView.
**Worker-Avatare**: WorkerAvatarControl (Controls/WorkerAvatarControl.cs) rendert Pixel-Art via WorkerAvatarRenderer (Graphics/). Worker.IsFemale (deterministisch aus Id) bestimmt Geschlecht (Haare/Lippen/Kiefer). Avatare in WorkerMarketView (40dp) und WorkerProfileView (64dp).

### Goldschrauben-Quellen
1. Mini-Games (3-10 Schrauben pro Win)
2. Daily Challenges (20 Schrauben)
3. Achievements (5-50 Schrauben)
4. Rewarded Ad (5 Schrauben)
5. IAP-Paket (100/500/2000 Schrauben)
6. Daily Login Rewards (1-25 Schrauben je nach Tag im 30-Tage-Zyklus)
7. Spieler-Milestone-Level (3-200 Schrauben bei Level 10/25/50/100/250/500/1000)
8. Workshop-Milestone-Level (2-50 Schrauben bei Workshop-Level 50/100/250/500/1000)

### Research Tree
45 Upgrades in 3 Branches à 15 Level: Tools (Effizienz + MiniGame-Zone), Management (Löhne + Worker-Slots), Marketing (Belohnungen + Order-Slots)
Kosten: Geld (500 bis 1B). Dauer: 10min bis 72h (Echtzeit). Effekte werden im GameLoop auf Einkommen/Kosten angewendet.
**UI**: 2D-Baum-Layout (Top Heroes-Style) mit 6 SKCanvasViews: HeaderCanvas (Labor-Szene), ActiveResearchCanvas (aktive Forschung), TabCanvas (Branch-Tabs), BranchBannerCanvas (Branch-Header), TreeCanvas (2D-Baum), CelebrationCanvas (Confetti). ResearchView.axaml.cs verdrahtet alle 6 Canvas + CelebrationRequested Event. 20fps Render-Loop.
**Renderer**: ResearchTreeRenderer (2D-Baum), ResearchIconRenderer (12 Icons), ResearchActiveRenderer (Kolben-Animation), ResearchBranchBannerRenderer (3 Branch-Szenen), ResearchTabRenderer (Tab-Leiste), ResearchCelebrationRenderer (Confetti+Glow), ResearchLabRenderer (Labor-Header).

### Mini-Games (alle SkiaSharp-basiert)
Alle 8 Mini-Games nutzen dedizierte SkiaSharp-Renderer (Graphics/) für das Spielfeld. Header, Result-Display, Countdown und Action-Buttons bleiben XAML. Jeder Renderer hat `Render()` + `HitTest()`, View hat 20fps Render-Loop (DispatcherTimer 50ms), Touch via `PointerPressed` + DPI-Skalierung.
**Tutorial-System**: Beim ersten Spielstart jedes MiniGame-Typs wird ein Tutorial-Overlay angezeigt (Titel + Erklärungs-Text + "Verstanden"-Button). Tracking über `GameState.SeenMiniGameTutorials` (List<MiniGameType>). 8 Tutorial-Texte + TutorialGotIt in 6 Sprachen.
**Belohnungsanzeige**: Belohnungen (Geld + XP) werden IMMER angezeigt, nicht nur bei der letzten Aufgabe. Bei Zwischen-Aufgaben wird eine Teilbelohnung berechnet (BaseReward/TaskCount * ResultPercentage). Button-Text mit TextBlock + TextTrimming="CharacterEllipsis" + MaxWidth="200" gegen Überlauf. Zentrale Berechnung über Order.CalculateEstimatedReward()/CalculateEstimatedXp().
**Ergebnis-Animation**: Zwischen-Runden: Sterne sofort gesetzt (keine Animation), kein GameCompleted Event. Letzte Runde: Aggregierte Sterne aus allen TaskResults berechnet (totalStars/totalPossible*3, Clamp 0-3), staggered Animation (100ms Delay, 250ms Duration), GameCompleted Event feuert. MiniGameEffectHelper: ShowStarsStaggeredAsync 100ms Delay + 250ms Animation.

- **Sawing** (SawingGameRenderer): Timing-Bar mit Zonen, animierte Säge, Sägemehl-Partikel
- **Pipe Puzzle** (PipePuzzleRenderer): Metall-Rohre auf Beton, Wasser-Puls, Flansche/Nieten
- **Wiring** (WiringGameRenderer): Sicherungskasten, Bezier-Kabel, Funken-Partikel
- **Painting** (PaintingGameRenderer): Putzwand, Pinselstrich-Textur, Farbspritzer-Partikel
- **Blueprint** (BlueprintGameRenderer): Blaupausen-Grid, Icons+Nummern, Staub-Partikel
- **RoofTiling** (RoofTilingRenderer): Holz-Dachstuhl, 3D-Ziegel, versetzte Reihen
- **DesignPuzzle** (DesignPuzzleRenderer): Architektenplan, gestrichelter Rand, Tür-Öffnungen
- **Inspection** (InspectionGameRenderer): Beton-Baustelle, Defekt-Schimmern, Lupe-Deko

## App-spezifische Services

| Service | Zweck |
|---------|-------|
| `GameLoopService` | 1s-Takt Loop: Einkommen, Kosten, Worker-States, AutoSave (30s) |
| `GameStateService` | Zentraler State mit Thread-Safety (lock) |
| `SaveGameService` | JSON-Persistenz (Load/Save/Import/Export/Reset) |
| `WorkerService` | Worker-Lifecycle: Mood, Fatigue, Training, Ruhe, Kündigung |
| `PrestigeService` | 7-Tier Prestige (Bronze bis Legende) + Shop-Effekte + progressive Bewahrung |
| `ResearchService` | 45 Research-Nodes, Timer, Effekt-Berechnung |
| `EventService` | Zufällige Events (8 Typen) + saisonaler Multiplikator |
| `DailyChallengeService` | 3 Challenges/Tag (00:00 Reset) |
| `DailyRewardService` | 30-Tage Login-Zyklus mit steigenden Belohnungen |
| `QuickJobService` | Schnelle MiniGame-Jobs (Rotation 8-15min nach Prestige, Limit 20-40/Tag nach Prestige) |
| `StoryService` | 25 Story-Kapitel von Meister Hans (Tutorial/EarlyGame/MidGame/Prestige/Endgame), fortschrittsbasierte Freischaltung inkl. Prestige-Trigger + Belohnungen |
| `AchievementService` | 33 Erfolge tracken + Goldschrauben-Rewards |
| `OfflineProgressService` | Offline-Einnahmen (Brutto mit allen Modifikatoren - Kosten, * Saison-Multiplikator) |
| `OrderGeneratorService` | Aufträge generieren (4 OrderTypes: Standard/Large/Weekly/Cooperation, Kundennamen, Stammkunden-Zuweisung, Reputation beeinflusst Order-Qualität) |
| `ReviewService` | In-App Review Prompts (Preferences-basiert, 14-Tage Cooldown, Trigger: Level 20/50/100, Prestige, 50 Aufträge) |
| `AudioService` / `AndroidAudioService` | Sound-Effekte (SoundPool, 15 GameSounds) + Haptik (Vibrator, 7 VibrationType). Desktop-Stub / Android-Implementierung. Factory-Pattern in App.axaml.cs |
| `NotificationService` / `AndroidNotificationService` | Lokale Push-Benachrichtigungen (4 Typen: Forschung fertig, Lieferant wartet, Rush verfügbar, Daily Reward). AlarmManager + BroadcastReceiver auf Android (NotificationReceiver in AndroidManifest.xml registriert). Lokalisierte Nachrichten (6 Sprachen). DateTime.UtcNow für Zeitplanung. In Einstellungen abschaltbar |
| `PlayGamesService` / `AndroidPlayGamesService` | Google Play Games Integration: Sign-In (GamesSignInClient.IsAuthenticated), Score-Submit (LeaderboardsClient.SubmitScore), Leaderboard-UI (GetAllLeaderboardsIntent). Cloud-Save/PlayersClient/LoadTopScores NICHT verfügbar im NuGet v121.0.0.2 → Stub-Implementierungen (SupportsCloudSave=false). Desktop-Stub / Android-Implementierung. Factory-Pattern in App.axaml.cs |
| `ManagerService` | 12 Vorarbeiter: Unlock-Prüfung (Level/Prestige), Upgrade (Lv.1-5, Goldschrauben), Workshop-Boni (Effizienz/Ermüdung/Stimmung/Einkommen) |
| `TournamentService` | Wöchentliche MiniGame-Turniere: 9 simulierte Gegner (Level-skaliert), Best-of-3 Score, 3 Entries/Tag, Gold/Silber/Bronze-Rewards |
| `BattlePassService` | 30-Tier Battle Pass: Free/Premium Track, XP aus Events, Tier-Rewards, 30-Tage-Saisons |
| `SeasonalEventService` | 4 saisonale Events/Jahr: Spezialaufträge, Saisonwährung, Event-Shop (8-10 Items) |
| `GuildService` | 5 Innungen: Echte Spieler via Play Games Leaderboards, wöchentliche Ziele, Gilden-Level, Einkommens-Boni |
| `CraftingService` | 13 Rezepte in 3 Tiers: Produktionsketten (Zwischenprodukte), Echtzeit-Timer, Inventar + Verkauf |
| `WeeklyMissionService` | 5 Wochenmissionen: Montag-Reset, höhere Ziele als Daily, 50 Goldschrauben Komplett-Bonus |
| `WelcomeBackService` | Welcome-Back-Angebote nach 24h+ Abwesenheit, Starter-Paket (einmalig), 24h Ablauf-Timer |
| `LuckySpinService` | Täglicher Gratis-Spin: 8 Preiskategorien (gewichtet), Income-skalierte Geld-Preise |
| `EquipmentService` | Ausrüstung für Worker: 4 Typen x 4 Seltenheiten, Drop nach MiniGames, Shop-Rotation |

## Game Juice

| Feature | Implementierung |
|---------|-----------------|
| Workshop Cards | Farbiges BorderBrush nach Typ + SkiaSharp-Illustrationen (WorkshopCardRenderer) als Header auf jeder Dashboard-Karte (48dp, 8 thematische Szenen: Hobel+Holz, Rohre+Wasser, Kabel+Blitze, Farbroller+Palette, Dachziegel+Dachstuhl, Kran+Bauhelm, Zirkel+Bauplan, Gebäude+Krone). WorkshopIllustrationView (Custom SKCanvasView für DataTemplates) |
| Worker Avatars | WorkerAvatarControl (SKCanvasView) mit SkiaSharp Pixel-Art: 6 Hauttöne, 6 Haarfarben, 6 Kleidungsfarben, 3 Hut-Stile (Bauhelm/Mütze/Schutzhelm), Tier-Farbe+Sterne(S+), Mood-Gesichtsausdruck, Geschlecht (weiblich: schmalerer Kopf/langes Haar/Wimpern/vollere Lippen/Ohrringe/Wangenröte; männlich: kantiger Kiefer/Kurzhaar/Koteletten/Augenbrauen/Bart-Schatten). 5 Accessoire-Varianten (Brille/Schutzbrille/Pflaster/Bleistift/keine). Schulter-/Körperansatz mit Arbeitskleidung. 40dp in WorkerMarketView, 64dp in WorkerProfileView |
| Meister Hans Portrait | MeisterHansRenderer (SkiaSharp): NPC-Portrait 120x120 im Story-Dialog. 4 Stimmungen (happy/proud/concerned/excited), Idle-Bobbing (Sinus), Blinzel-Animation (alle 3-4.5s für 150ms), gelber Schutzhelm, Bart+Schnurrbart, stimmungsabhängige Augen/Brauen/Mund/Deko-Elemente (Gold-Sterne bei proud, Ausrufezeichen bei excited, Schweißtropfen bei concerned). 20fps DispatcherTimer in MainView.axaml.cs |
| Golden Screw Icon | Gold-Shimmer Animation (CSS scale+rotate Loop) |
| Level-Up | XP-Bar Puls-Animation (500ms DispatcherTimer, IsLevelUpPulsing), nur Meilensteine (10/25/50/100/250/500/1000) bekommen CelebrationOverlay + Sound + FloatingText |
| Income | FloatingTextOverlay (gruen, +100px, 1.5s) |
| Button Hover | Pulse Effect (scale 1.05) |
| Combo Badge | Gold-Badge "#E8AA00" mit Fire-Icon, ScaleUpDown bei Combo >= 3 (PaintingGame) |
| Bottom Sheets | CSS translateY(800px→0px) mit CubicEaseOut (WorkerProfile, Confirm-Dialoge) |
| Parallax Header | Dashboard-Header verschiebt sich beim Scrollen (translateY = -offset * 0.3, max 20px) |
| Hold-to-Upgrade | DispatcherTimer 120ms, stilles Upgrade ohne Sound/FloatingText, Zusammenfassung am Ende |
| Tab-Wechsel | FadeIn (150ms, CubicEaseOut) auf ContentPanel |
| City-Skyline Header | SKCanvasView als Header-Hintergrund in DashboardView, CityRenderer zeichnet Gebäude/Straße, semi-transparenter Gradient-Overlay darüber, 20fps Render-Loop |
| City-Wolken | 4 Pixel-Art Wolken ziehen in verschiedenen Höhen/Geschwindigkeiten über den Himmel |
| Schornstein-Rauch | 3 graue Partikel pro freigeschaltetem Workshop, steigen auf und verblassen |
| Fenster-Blinken | Nachts (20-06 Uhr) blinken Fenster deterministisch (kein Random) |
| MiniGame Result-Polish | Staggered Stars (200ms Delay), Rating-Farbe (Gold/Gruen/Orange/Rot), Border-Pulse, Reward-Text-Animation, Zone-Flash. MiniGameEffectHelper (wiederverwendbar) |
| MiniGame Countdown | Overlay mit pulsierendem 3-2-1-GO! Text (Code-Behind Animation) |
| Workshop-Animationen | 8 ikonische Szenen via `WorkshopSceneRenderer.cs` (IsAntialias=true, volle Canvas-Breite): Carpenter (Kreissäge+Brett mit Maserung+Astlöchern+Metallglanz-Sägeblatt+goldene Sägespäne), Plumber (Waschbecken mit Keramikglanz+Wasserhahn+Rohrschlüssel+Chrome-Highlights auf Rohren), Electrician (offener Sicherungskasten+Kabel+Strom-Pulse+cached LED-Glow+cached Pulse-Glow), Painter (Wand streichen+Farbroller+Leiter+Tropfen), Roofer (Hausdach mit Schornstein+Fenster mit Kreuzrahmen+Türgriff+verstärkte 3D-Ziegel+Hammer), Contractor (Backsteinmauer+Kelle mit Mörtelklecks+Metallglanz+Kran mit Seil-Textur+Detail-Haken), Architect (Blaupause+Grundriss progressiv gezeichnet+Bleistift+Lineal), GeneralContractor (Goldener Vertrag+roter Stempel-Abdruck+Münzen mit Prägung+Euro-Symbol+Glanz). DrawWorkerFigure mit Körper/Kleidung/Gesicht/Stiefeln (Carpenter=#8B6914 braune Schürze, Plumber=#1565C0 blaue Latzhose, Electrician=#FDD835 gelbe Weste, Painter=#E0E0E0 weiß+Flecken, Roofer=#E65100 orange, Contractor=#616161 grau, Architect=#F5F5F5 Hemd, GeneralContractor=#212121 Anzug+Krawatte), Hautfarbe #FFDAB9, Augen+Mund, 30% größere Accessoires (Helme/Kappen/Brillen/Krawatten/Berets). Drop-Shadows (3 gecachte MaskFilter), Tool-Glow (Säge=weiß, Wasser=blau, Hammer=Flash). PingPong-Animationen (sanftes Hin-und-Her statt hartem Reset). Level-basierte Visuals: Lv50+ Tool-Glow, Lv250+ 4 Gold-Sterne (8 Strahlen, pulsierender Kern), Lv500+ SkiaGlowEffect Premium-Aura (Alpha 80, breiter Puls), Lv1000 SkiaShimmerEffect Gold-Overlay. Münz-Emission skaliert mit Level (Lv250+ 2 Münzen, Lv500+ 3). Worker-Skalierung (0/1/2-3/4+), Extra-Effekte ab 4+ Workern. Hintergrund: `WorkshopInteriorRenderer.cs` mit Gradient+Boden-Pattern+Vignette-Beleuchtung (radialer Gradient)+Wand-Details (Werkzeug-Silhouetten/Rohre/Rahmen/Fenster, alpha 15-25). Ambient-Partikel: SkiaParticleManager(30) in WorkshopView mit typ-spezifischen Partikeln (Sägespäne/Wasserspritzer/Funken/Farbdunst/Staub/Gold-Glitzer) |
| Muenz-Partikel | 2-3 goldene Coin-Partikel im City-Header bei "money" FloatingText (via AnimationManager.AddCoinParticle) |
| Money-Display Flash | Kurzer Opacity-Flash (400ms, 1.0→0.6→1.0) auf MoneyText bei Geld-Einnahmen |
| Confetti bei Events | AddLevelUpConfetti im City-Header bei "level" und "golden_screws" FloatingText-Kategorien |
| Offline-Earnings Burst | CollectOfflineEarnings feuert FloatingText "money" → loest Muenz-Partikel + Money-Flash aus |
| Research-Labor Header | SKCanvasView als Header-Hintergrund in ResearchView, ResearchLabRenderer zeichnet Werkstatt-Szene mit Tisch/Kolben/Büchern/Zahnrädern, semi-transparenter Gradient-Overlay darüber, 20fps Render-Loop |
| Rotierende Zahnräder | 2 gegenläufige Zahnräder an der Wand im Research-Labor (CraftMetall-Farbe) |
| Dampf-Partikel | 5 aufsteigende Dampf-Partikel aus Glaskolben im Research-Labor |
| Research 2D-Baum | Top Heroes-Style 2D-Baumstruktur (ResearchTreeRenderer): Abwechselnd zentrierte Einzel-Items + Zweiergruppen, Bezier-Verbindungen mit Flow-Partikeln, Branch-Farben (Tools=Orange, Management=Braun, Marketing=Lime), Lock/Unlock/Active/Completed States, Scroll-Unterstützung |
| Research-Tabs | Animierte Tab-Leiste (ResearchTabRenderer): 3 Branch-Tabs mit Sliding Underline, aktiver Tab mit vollem Hintergrund |
| Research-Branch-Banner | Animierte Branch-Header (ResearchBranchBannerRenderer): Tools=Amboss+Funken, Management=Schreibtisch+Papiere, Marketing=Megafon+Wellen |
| Research-Item-Icons | 12 einzigartige SkiaSharp-Illustrationen (ResearchIconRenderer): Hammer, Schraubenschlüssel, Säge, Zange, Lupe, Aktentasche, Krawatte, Diplom, Megafon, Stern, Rakete, Krone - je 64x64 |
| Research-Aktiv-Anzeige | Aktive Forschung Animation (ResearchActiveRenderer): Kolben mit Flüssigkeit+Blasen, Dampf, Countdown-Timer |
| Research-Celebration | Confetti+Glow-Ringe bei Forschungsabschluss (ResearchCelebrationRenderer): 100 Confetti-Partikel, 3 expandierende Glow-Ringe, Branch-Farben |
| Glühbirne pulsiert | Glühbirne an der Decke im Research-Labor, Glow pulsiert (2.5Hz Sinus) |
| Forschungs-Funken | Orange→Gelb Funkenpartikel bei aktiver Forschung (max 30 Partikel) |
| Forschungs-Fortschritt | Glühender Fortschrittsbalken im SkiaSharp-Header bei aktiver Forschung |
| Säge-MiniGame Renderer | SawingGameRenderer (SkiaSharp): Pixel-Art Holzbrett mit Maserung/Astlöchern, animierte Säge mit Vibration, Timing-Bar mit Zonen (Miss/Ok/Good/Perfect) + Glow-Puls, Sägemehl-Partikel (20 max, Schwerkraft), 20fps Render-Loop |
| Rohr-Puzzle Renderer | PipePuzzleRenderer (SkiaSharp): Metall-Rohre auf Beton-Kacheln, Flansche an Rohrenden, Niet-Detail in Mitte, Wasser-Puls-Animation (Sinus-Glow), Source=leuchtend grüner Wassertropfen (#00E676) mit Glow-Ring+Fließpfeile, Drain=blauer Trichter (#448AFF) mit Glow-Ring+Fließpfeile, DrawIndicatorGlow()+DrawFlowArrows() Methoden, Touch-HitTest, 20fps Render-Loop |
| Streich-MiniGame Renderer | PaintingGameRenderer (SkiaSharp): Helle Putzwand (#F5F0E8) mit Kreuzschraffur+Vignette, hoher Kontrast Wand/Farbe, Zellen mit diagonaler Pinselstrich-Textur+Nass-Effekt+Frisch-Flash (PaintedAge<0.4s), farbiger Ring+Schimmer+pulsierender 12px-Punkt auf Zielzellen, Haekchen auf weißem Kreis bei Korrekt, X+Rot bei Fehler, Farbspritzer-Partikel (8 pro Treffer, 4-14px, Farbvariationen, 1.0-1.8s Lebensdauer), Touch-HitTest mit DPI-Skalierung, 20fps Render-Loop |
| Bauplan-MiniGame Renderer | BlueprintGameRenderer (SkiaSharp): Dunkelblauer Blaupausen-Hintergrund (#1A237E) mit feinen/groben Grid-Linien, abgerundete Kacheln mit SkiaSharp-Vektor-Icon+Nummer (12 Icons: DrawFoundationIcon/DrawWallsIcon/DrawFrameworkIcon/DrawElectricsIcon/DrawPlumbingIcon/DrawWindowsIcon/DrawDoorsIcon/DrawPaintingIcon/DrawRoofIcon/DrawFittingsIcon/DrawMeasuringIcon/DrawScaffoldingIcon - keine Emojis), pulsierender gelber Rand fuer aktiven Schritt, gruenes Haekchen bei erledigten Schritten, Fehler-Overlay rot, Blaupausen-Staub-Partikel (15 max, schwebendes Driften), Touch-HitTest mit DPI-Skalierung, 20fps Render-Loop |
| Grundriss-Puzzle Renderer | DesignPuzzleRenderer (SkiaSharp): Architektenplan-Stil auf warmem Papier-Hintergrund mit blauem Blaupause-Raster, Massstab-Markierungen am Rand, dicker blauer Grundriss-Rahmen mit Trennwaenden und Tuer-Oeffnungen, leere Slots mit gestricheltem animiertem Rand + transparentem Hint-Icon + "?" + pulsierendem Glow, gefuellte Slots mit Farb-Hintergrund + Emoji + gruenes Haekchen (Kreis + Linien), Fehler-Flash (rot blinkend mit "X", 400ms), Touch-HitTest mit DPI-Skalierung, Raum-Auswahl-Karten bleiben XAML, 20fps Render-Loop |
| Dachdecken-MiniGame Renderer | RoofTilingRenderer (SkiaSharp): Holz-Dachstuhl (#5D4037) mit diagonalen Sparren/Dachlatten, dekorativer Dachfirst mit Segmenten/Firstkappen, Ziegel mit gebogener Optik (Glanz-Highlight oben, Schatten unten/seitlich), Hint-Ziegel mit Schloss-Symbol + Gold-Rand, platzierte Ziegel mit Haekchen + Gruen-Rand, Fehler-Blinken (Rot-Blend 0.5s), leere Plaetze mit Punkt-Indikator, ungerade Reihen versetzt (echte Dachziegel-Optik), Touch-HitTest mit DPI-Skalierung, 20fps Render-Loop |
| Verkabelungs-MiniGame Renderer | WiringGameRenderer (SkiaSharp): Sicherungskasten (#37474F) mit Schrauben-Ecken, links/rechts Kabel-Anschlüsse (6 Farben), Verbindungslinien zwischen Anschlüssen (Bezier-Kurven), Funken-Partikel bei Verbindung (20 max, goldgelb), Auswahl-Highlight (weiss), Verbindungs-Glow (grün), Fehler-Flash (rot), Touch-HitTest für Links/Rechts-Seite, 20fps Render-Loop |
| Inspektions-MiniGame Renderer | InspectionGameRenderer (SkiaSharp): Betongrau-Baustellen-Hintergrund (#607D8B) mit Rissen/Fugen, abgerundete Kacheln mit SkiaSharp-Vektor-Icons (8 Good: DrawBrickIcon/DrawWoodIcon/DrawBoltIcon/DrawLadderIcon/DrawCraneIcon/DrawWrenchIcon/DrawGearIcon/DrawBeamIcon + 8 Defect: DrawWarningIcon/DrawBarrierIcon/DrawCrackIcon/DrawFireIcon/DrawCrossIcon/DrawStopIcon/DrawHoleIcon/DrawLeakIcon - keine Emojis), gruener Rahmen+Haekchen bei gefundenen Maengeln, roter Rahmen+X bei Fehlalarmen, subtiles rotes Schimmern auf unentdeckten Defekten (Sinus-Puls), Lupe-Deko (schwankend), Staub-Partikel (15 max, aufsteigend+Wind-Drift+Fade), Touch-HitTest mit DPI-Skalierung, 20fps Render-Loop |
| Glücksrad Renderer | LuckySpinWheelRenderer (SkiaSharp): 8 farbige Segmente mit radialen Gradienten, dekorativer Nieten-Rand (24 Nieten), SkiaSharp-gezeichnete Icons pro Segment (Münze/Stern/Schraube/Blitz/Werkzeuge/Krone - keine Emojis), Naben-Gradient in der Mitte, goldener Zeiger-Dreieck oben, Glow-Effekt auf Gewinn-Segment. Spin-Animation via DispatcherTimer 16ms (~60fps), CubicEaseOut, ~3s Dauer, min 3 volle Umdrehungen. LuckySpinView als Bottom-Sheet Overlay in MainView |

## Farbkonsistenz (Craft-Palette)

- **Alle Buttons** (Primary/Secondary/Outlined) ueberschrieben via App.axaml Style-Overrides → immer Craft-Orange/Braun
- **Keine `{DynamicResource PrimaryBrush}`** in Views → alles durch `{StaticResource CraftPrimaryBrush/LightBrush}` ersetzt
- **Workshop-Farben**: Carpenter=#A0522D, Plumber=#0E7490(Teal), Electrician=#F97316(Orange), Painter=#EC4899, Roofer=#DC2626, Contractor=#EA580C, Architect=#78716C(Stone), GeneralContractor=#FFD700
- **Tier-Farben**: F=Grau, E=Gruen, D=#0E7490(Teal), C=#B45309(DarkOrange), B=Amber, A=Rot, S=Gold
- **Branch-Farben**: Tools=#EA580C, Management=#92400E(Braun), Marketing=#65A30D(Lime)

## Daily Challenge Tracking

- `MiniGameResultRecorded` Event auf `IGameStateService` → `DailyChallengeService` subscribt automatisch
- Jedes MiniGame-Ergebnis trackt `PlayMiniGames` + `AchieveMinigameScore` Challenges
- Score-Mapping: Perfect=100%, Good=75%, Ok=50%, Miss=0%

## Reputation-System

- **CustomerReputation** (0-100 Score, startet bei 50): Beeinflusst Auftragsbelohnungen (0.7x bis 1.5x)
- **AddRating()** wird automatisch bei Auftragsabschluss aufgerufen (MiniGame-Rating → 1-5 Sterne)
- **Showroom-Gebäude**: Passive tägliche Reputation-Steigerung (0.5-2.5/Tag je nach Level)
- **DecayReputation()**: Langsamer Abbau >50 wenn keine Aufträge abgeschlossen werden (1/Tag)
- **Event-ReputationChange**: CelebrityEndorsement (+5), EconomicDownturn (+2) wirken einmalig bei Event-Start
- **Prestige-Reset**: Setzt Reputation auf Startwert (50) zurück
- **ExtraOrderSlots**: >=70 → +1 Slot, >=90 → +2 Slots (addiert zu GenerateAvailableOrders totalCount)
- **OrderQualityBonus**: <30 → -10% (mehr Standard), >=80 → +20% (weniger Standard, mehr Large/Weekly/Cooperation)

## Auftragstypen (OrderType)

| Typ | Freischaltung | Belohnung | Besonderheit |
|-----|---------------|-----------|-------------|
| Standard | Immer | 1.0x | Basis |
| Large | WS-Level 10+ | 1.8x | Mehr Aufgaben |
| Cooperation | WS-Level 15+, >=2 Workshops | 2.5x | Aufgaben aus 2 Workshop-Typen gemischt |
| Weekly | WS-Level 20+ | 4.0x | 7-Tage-Deadline, wird bei Ablauf entfernt |

- **Kundennamen**: Deterministisch aus ~30 deutschen Vor+Nachnamen generiert
- **Stammkunden**: 20% Chance auf Stammkunden-Zuweisung, BonusMultiplier 1.1-1.5x (0.02 pro Perfect über 5, max 20 Stammkunden)
- **Abgelaufene Orders**: GameLoop prüft alle 60 Ticks, entfernt aus AvailableOrders + bricht aktiven Order ab

## Event-Mechanik

- **AffectedWorkshop**: HighDemand/MaterialShortage betreffen zufälligen Workshop-Typ → RewardMultiplier nur für passende Orders
- **MarketRestriction**: WorkerStrike → nur Tier C und niedriger im Arbeitermarkt verfügbar
- **Intervall-Skalierung**: Kein Prestige 8h/30%, Bronze 6h/35%, Silver 4h/40%, Gold+ 3h/50%

## Event-SpecialEffects

- **TaxAudit** ("tax_10_percent"): 10% Steuer auf Brutto-Einkommen (dauerhaft während Event)
- **WorkerStrike** ("mood_drop_all_20"): Alle Worker-Stimmungen -20 (einmalig bei Event-Start)
- Event-ID-Tracking verhindert doppelte Anwendung einmaliger Effekte

## Feierabend-Rush

- **Täglicher 2x-Boost** für 2 Stunden (Einkommens-Verdopplung)
- 1x pro Tag gratis, weitere Aktivierungen kosten 10 Goldschrauben
- Stackt mit SpeedBoost (2x * 2x = 4x möglich)
- Prestige-Shop "Rush-Verstärker" erhöht Rush auf 3x statt 2x
- GameState: `RushBoostEndTime`, `LastFreeRushUsed`, `IsRushBoostActive`, `IsFreeRushAvailable`
- Button im Dashboard zeigt Timer oder "Gratis-Rush!"

## Meisterwerkzeuge (Sammelbare Artefakte)

- **12 Werkzeuge** in 5 Seltenheitsstufen (Common/Uncommon/Rare/Epic/Legendary)
- Jedes gibt permanenten Einkommens-Bonus (+2% bis +15%)
- Maximaler Gesamt-Bonus: +74% wenn alle 12 gesammelt
- Freischaltung durch Meilensteine: Workshop-Level, Aufträge, Minispiele, Prestige
- Prüfung alle 2 Minuten im GameLoop (`MasterToolCheckIntervalTicks`)
- `MasterToolUnlocked` Event → FloatingText + Celebration in MainViewModel
- GameState: `CollectedMasterTools` (List<string> der IDs)
- Statische Definitionen in `MasterTool.GetAllDefinitions()`, Eligibility in `MasterTool.CheckEligibility()`

| ID | Name | Seltenheit | Bonus | Bedingung |
|----|------|-----------|-------|-----------|
| mt_golden_hammer | Goldener Hammer | Common | +2% | Workshop Lv.25 |
| mt_diamond_saw | Diamant-Säge | Common | +2% | Workshop Lv.50 |
| mt_titanium_pliers | Titanium-Zange | Common | +3% | 50 Aufträge |
| mt_brass_level | Messing-Wasserwaage | Common | +3% | 100 Minispiele |
| mt_silver_wrench | Silber-Schraubenschlüssel | Uncommon | +5% | Workshop Lv.100 |
| mt_jade_brush | Jade-Pinsel | Uncommon | +5% | 25 Perfect Ratings |
| mt_crystal_chisel | Kristall-Meißel | Uncommon | +5% | Bronze Prestige |
| mt_obsidian_drill | Obsidian-Bohrmaschine | Rare | +7% | Workshop Lv.250 |
| mt_ruby_blade | Rubinsägeblatt | Rare | +7% | Silver Prestige |
| mt_emerald_toolbox | Smaragd-Werkzeugkasten | Epic | +10% | Workshop Lv.500 |
| mt_dragon_anvil | Drachenschmiede-Amboss | Epic | +10% | Gold Prestige |
| mt_master_crown | Meisterkrone | Legendary | +15% | Alle 11 Tools |

## Lieferant-System (Variable Rewards)

- Zufällige Bonus-Lieferungen alle **2-5 Minuten** (Prestige-Bonus reduziert Intervall)
- 5 Lieferungstypen: Geld (35%), Goldschrauben (20%), XP (20%), Mood-Boost (15%), Speed-Boost (10%)
- Lieferung muss innerhalb von **2 Minuten** abgeholt werden, sonst verfällt sie
- `DeliveryArrived` Event → FloatingText-Benachrichtigung in MainViewModel
- GameState: `NextDeliveryTime`, `PendingDelivery`, `TotalDeliveriesClaimed`
- Model: `SupplierDelivery` (Type, Amount, CreatedAt, ExpiresAt)

## Changelog Highlights

- **v2.0.9 (21.02.2026)**: Emoji→Vektor-Icons & BattlePass-Fix (3 Punkte): (1) BlueprintGameRenderer: 12 Emoji-Icons→SkiaSharp-Vektor-Icons (DrawFoundationIcon, DrawWallsIcon, DrawFrameworkIcon, DrawElectricsIcon, DrawPlumbingIcon, DrawWindowsIcon, DrawDoorsIcon, DrawPaintingIcon, DrawRoofIcon, DrawFittingsIcon, DrawMeasuringIcon, DrawScaffoldingIcon + DrawDefaultIcon Fallback). BlueprintGameViewModel.StepIcons von Unicode-Strings auf Identifier-Strings ("foundation", "walls" etc.). (2) InspectionGameRenderer: 16 Emoji-Icons→SkiaSharp-Vektor-Icons (8 Good: DrawBrickIcon/DrawWoodIcon/DrawBoltIcon/DrawLadderIcon/DrawCraneIcon/DrawWrenchIcon/DrawGearIcon/DrawBeamIcon + 8 Defect: DrawWarningIcon/DrawBarrierIcon/DrawCrackIcon/DrawFireIcon/DrawCrossIcon/DrawStopIcon/DrawHoleIcon/DrawLeakIcon). InspectionGameViewModel GoodIcons/DefectIcons von Unicode-Strings auf Identifier-Strings. (3) BattlePassService: KRITISCHER BUG - Event-Subscriptions (OrderCompleted/MiniGameResultRecorded/WorkshopUpgraded) waren in Initialize() das nie aufgerufen wurde → XP-Tracking funktionierte nicht. Fix: Subscriptions in Constructor verschoben, Initialize() aus IBattlePassService entfernt.
- **v2.0.9 (21.02.2026)**: UX-Polish & Bug-Fixes (15 Punkte): (1) 24 fehlende RESX-Keys ergänzt (Tutorial Hobeln/Fliesen/Messen, LuckySpin 6 Keys, Automation 4 Keys, CooperationOrderHint, Feature-Labels) in 6 Sprachen. (2) LuckySpinWheelRenderer: Emoji-Labels→SkiaSharp-Vektor-Icons (DrawMoneyIcon, DrawXpIcon, DrawScrewIcon, DrawSpeedIcon, DrawToolIcon, DrawJackpotIcon + CreateStarPath/CreateHexPath). (3) LevelUp: Dialog entfernt→500ms XP-Bar-Puls (IsLevelUpPulsing), nur Meilensteine (10/25/50/100/250/500/1000) bekommen Sound+Celebration+FloatingText. (4) Automation-Toggles: Erklärungs-TextBlock unter jedem gesperrten Toggle ("Verfügbar ab Level X"), OnPropertyChanged für Unlock-Properties in RefreshFromState()+OnLevelUp(). (5) Welcome-Back dedup: IsCombinedWelcomeDialogVisible, CheckCombinedWelcomeDialog() kombiniert Offline-Earnings+Welcome-Offer in einen Dialog. (6) Story-Tipp: Belohnung im Dialog skaliert (Max(chapter.MoneyReward, netIncome*600)). (7) Weekly Mission Text: RefreshWeeklyMissions() populiert DisplayDescription/RewardDisplay/ProgressDisplay mit lokalisiertem Text. (8) DashboardView: 7 hardcodierte Strings lokalisiert (Features/Vorarbeiter/Turnier etc.→loc:Translate), Feature-Icons 22→36dp, Container 40→44dp. (9) Gebäude-Button: Domain-Icon + LinearGradientBrush. (10) Cooperation-Order: Handshake-Icon + CooperationOrderHint in OrderView. (11) MiniGame-Buttons: TextTrimming="CharacterEllipsis" + MaxWidth="200" auf allen NextTask-Buttons. (12) Zentralisierte Belohnungsberechnung: Order.CalculateEstimatedReward()/CalculateEstimatedXp(), OrderViewModel nutzt zentrale Methoden. (13) Tournament: LoadLeaderboardAsync+IsPlayGamesSignedIn in ITournamentService, TournamentService Constructor auf nicht-nullable IPlayGamesService. (14) MainView: LevelUp-Dialog-Overlay entfernt, Welcome-Back-Dialog erweitert (Offline-Einnahmen-Sektion). (15) IsAutoAssignUnlocked Property (Level>=50).
- **v2.0.9 (21.02.2026)**: Android-Fixes (3 Punkte): (1) AndroidPlayGamesService komplett überarbeitet: 13 Build-Errors behoben, nicht verfügbare APIs (Snapshots/PlayersClient/LoadTopScores) durch Stubs ersetzt, SupportsCloudSave=false. Funktionierende Features: Sign-In, Score-Submit, Leaderboard-UI. (2) AndroidNotificationService: DateTime.Now→DateTime.UtcNow für Rush-Zeitplanung, NotificationReceiver lokalisierte Nachrichten in 6 Sprachen (DE/EN/ES/FR/IT/PT). (3) AndroidManifest.xml: NotificationReceiver als BroadcastReceiver registriert.
- **v2.0.9 (21.02.2026)**: Gilden, Prestige, Automation, Cloud Save (4 Punkte): (1) Prestige-Button Fix: Dashboard-Banner NavigateToPrestigeCommand rief fehlerhaftes SelectStatisticsTab() auf → navigiert jetzt direkt via NavigationRequested("statistics"). (2) Cloud Save UI: Neue "CLOUD SAVE" Card in SettingsView mit Play Games Anmeldestatus, Spielstand speichern/wiederherstellen, letzter Speicherzeitpunkt. SettingsViewModel: SignInPlayGamesCommand, SaveToCloudCommand, RestoreFromCloudCommand mit Bestätigungsdialog. 6 neue RESX-Keys in 6 Sprachen. (3) Automation-Toggles von SettingsView auf Dashboard/WorkshopView verschoben (AutoCollect bei Lieferant, AutoAccept bei Aufträgen, AutoAssign in Werkstatt). GameLoopService: AutoCollect/AutoAccept alle 5 Ticks, AutoAssign alle 60 Ticks. (4) Gilden mit echten Spielern: Guild.cs refactored (GuildMember entfernt, LeaderboardId/PlayerRank/TotalMembers statt Members), GuildService nutzt IPlayGamesService für Leaderboard-Submit/Load, LeaderboardEntry→PlayGamesLeaderboardEntry (Namespace-Kollision), GuildViewModel async mit LoadMembersAsync, JoinGuildCommand (CommunityToolkit entfernt Async-Suffix). GameLoopService: SimulateMemberContributions→CheckWeeklyGoalCompletion.
- **v2.0.9 (21.02.2026)**: UI-Integration aller Welle 1-8 Features (6 Punkte): (1) Weekly Missions in DashboardView: ItemsControl mit SKCanvasView-ProgressBars (amber/gold), ClaimAll-Button, Reset-Timer. (2) Automation Settings in SettingsView: 4 ToggleSwitches (AutoCollect Lv15+, AutoAccept Lv25+, AutoAssign Lv50+, AutoClaimDaily Premium), level-gated via Grid.IsEnabled. (3) Welcome Back Offers: Dialog-Overlay in MainView mit grünem Theme, Geld/Schrauben-Reward-Anzeige, Timer. (4) Streak-Rettung: Orange Warn-Border im DailyReward-Dialog mit RescueStreakCommand (5 Goldschrauben). (5) Equipment: 4 Slots (Helmet/Gloves/Boots/Belt) in WorkerProfileView mit Rarity-Farbe, Equipment-Shop in ShopView mit Seltenheits-Border. (6) Lucky Spin: LuckySpinView + LuckySpinWheelRenderer (SkiaSharp, 8 Segmente, Nieten-Rand, Spin-Animation 3s CubicEaseOut), Bottom-Sheet Overlay in MainView, Gratis-Spin-Badge im Dashboard.
- **v2.0.9 (21.02.2026)**: Mega-Feature-Update (25+ Features): 11 neue Services (ManagerService, TournamentService, BattlePassService, SeasonalEventService, GuildService, CraftingService, WeeklyMissionService, WelcomeBackService, LuckySpinService, EquipmentService, FriendService), 17 neue Models, 6 neue ViewModels (ManagerVM, TournamentVM, BattlePassVM, SeasonalEventVM, GuildVM, CraftingVM), 6 neue Views. Prestige-System von 3 auf 7 Stufen erweitert. ~400 neue RESX-Keys in 6 Sprachen. Alle Services in GameLoopService integriert mit Tick-Offsets. DI-Registrierung in App.axaml.cs. Navigation in MainViewModel + MainView.
- **v2.0.9 (21.02.2026)**: Deep-Review Bugfix (Phase 2): 16 Bugs gefixt + 4 neue Tools. (1) WiringGame Expert-Crash: 7. Farbe `Cyan` zu WireColor hinzugefügt (7 Wires brauchen 7 Farben). (2) DesignPuzzle Expert unmöglich: 2 neue Räume (Hallway/Basement) + `TotalSlots = selectedRooms.Length` statt hardcoded roomCount. (3) 4 neue ToolTypes (Hammer/SpiritLevel/Magnifier/Compass) + Tool.cs erweitert + CreateDefaults 8 Tools + SanitizeState-Migration. (4) BlueprintGame ToolType.Saw→SpiritLevel. (5) InspectionGame Tool-Bonus (Magnifier) hinzugefügt. (6) PaintingGame ComboMultiplier auf Rewards angewendet. (7) SawingGame Tutorial GameType statt hardcoded Sawing. (8) RoofTilingGame ToolType.Saw→Hammer. (9) Random.Shared statt `new Random()` in 4 VMs. (10) DailyChallenge int→long (TargetValue/CurrentValue) gegen Endgame-Overflow. (11) OrderGenerator adjustedRoll Clamp(0,100). (12) AchievementService building_* Cases ergänzt. (13) OfflineProgress DateTime.UtcNow.Month statt LastPlayedAt.Month. (14) SettingsView PrimaryBrush→CraftPrimaryLightBrush (3x). (15) Bottom-Spacer 60→80dp (8 Views) + BuildingsView Spacer. (16) Model-Kommentare NetIncomePerSecond. 6 neue RESX-Keys (4 Tools + 2 Räume) in 6 Sprachen.
- **v2.0.9 (20.02.2026)**: MiniGame Visual-Overhaul + Reward-Fix (4 Punkte): (1) Rohr-Puzzle Source/Drain komplett neu: Wassertropfen-Symbol (grün, Glow-Ring, Fließpfeile) + Trichter-Symbol (blau, Glow-Ring), DrawIndicatorGlow()+DrawFlowArrows() Methoden, neue Farben #00E676/#448AFF. (2) Streich-MiniGame Visual-Overhaul: Neue helle Farbpalette (WallBg=#F5F0E8, CellNormal=#EDE8DC), IsAntialias=true überall, diagonale Pinselstrich-Textur, Nass-Effekt, PaintedAge-Feld in PaintCellData für Frisch-gestrichen-Flash, 8 statt 5 Splatter-Partikel (größer/weiter/länger), farbige Ringe+Schimmer auf Zielzellen. (3) Workshop-Szenen: DrawStickFigure→DrawWorkerFigure mit Körper/Kleidung/Gesicht/Stiefeln pro WorkshopType (8 Farben), DrawMiniStar 8 Strahlen+pulsierender Kern, DrawLevelEffects 4 Sterne+stärkere Aura, Carpenter Astlöcher+Metallglanz, Plumber Keramikglanz+Chrome, Electrician cached LED-Glow, Roofer Schornstein+Fenster+Tür, Contractor Mörtel+Seil+Haken, GeneralContractor Stempel+Prägung. (4) Reward-Fix: OrderViewModel Display inkl. OrderType-Multiplikator + "~"-Prefix + RewardHintText, alle 8 MiniGame-VMs Zwischen-Aufgaben-Fix (Difficulty+OrderType Multiplikatoren). 1 neuer RESX-Key (RewardDependsOnRating) in 6 Sprachen.
- **v2.0.8 (20.02.2026)**: UX/UI Pre-Release Polish (14 Punkte): (1) Hardcoded Texte lokalisiert (RushActive, EfficiencyShort, AchievementsCompleted + 6 weitere Keys in 6 Sprachen). (2) Tab-Bar aktiver Tab farbig hervorgehoben (CSS-Klassen `StackPanel.TabActive` mit CraftPrimaryLightBrush). (3) OrderType-Badges auf Auftragskarten (Order.cs: DisplayOrderType/OrderTypeIcon/OrderTypeBadgeColor/ShowOrderTypeBadge, farbige Border in DashboardView). (4) Prestige-Shop UI in StatisticsView (PrestigeShopItemDisplay Klasse, RefreshPrestigeShop/BuyPrestigeItemAsync in StatisticsViewModel, PP-Balance + Item-Liste mit Buy/Purchased-States). (5) Buildings-Navigation vom Dashboard (NavigateToBuildingsCommand, CardElevated mit BuildingsSummary). (6) Reputation-Anzeige im Dashboard-Header (ReputationScore/ReputationColor Properties, ShowReputationInfoCommand mit Alert). (7) Buildings WrapPanel→UniformGrid Columns=2. (8) Empty State für leere Auftragsliste (HasNoOrders Property, Clipboard-Icon + lokalisierter Text). (9) Worker Market Default-Sortierung (Tier desc, Efficiency desc). (10) Workshop-Upgrade-Vorschau (UpgradeIncomePreview in SetWorkshopFinancials). (11) Worker Market Sortierung (OrderByDescending Tier, ThenByDescending Efficiency). (12) Stammkunden-Badge auf Auftragskarten (Herz + RegularCustomerBonus). (13) Net-Income-Display auf Dashboard-Karten (NetIncomeDisplay/IsNetNegative/HasCosts in WorkshopDisplayModel). (14) Prestige-Banner auf Dashboard (IsPrestigeAvailable/PrestigePointsPreview, Gold-Gradient-Banner mit NavigateToPrestigeCommand). 9 neue RESX-Keys in 6 Sprachen + Designer.cs.
- **v2.0.7 (19.02.2026)**: Release-Vorbereitung (10 Punkte): (1) Hardcodierte "OK"-Strings in MainView.axaml durch `{loc:Translate OK}` ersetzt. (2) SaveGameService ErrorOccurred Event für alle 4 catch-Blöcke. (3) IAP Premium + Restore in SettingsViewModel (echte PurchaseService-Aufrufe). (4) ReviewService (Preferences-basiert, 14-Tage Cooldown, Milestones: Level 20/50/100, Prestige, 50 Orders). (5) Tutorial-Overlay (8 Schritte, Bottom-Sheet, Skip/Next Commands). (6) AudioService + AndroidAudioService (SoundPool 15 GameSounds, Vibrator 7 Patterns, Factory-Pattern). (7) NotificationService + AndroidNotificationService (4 Typen: ResearchDone, DeliveryWaiting, RushAvailable, DailyReward; AlarmManager+BroadcastReceiver). (8) PlayGamesService + AndroidPlayGamesService (Leaderboards: PlayerLevel+TotalMoney, Cloud-Save via SnapshotsClient). (9) Cloud-Save Integration in SaveGameService (parallel fire-and-forget). (10) Settings erweitert: Notifications+CloudSave Toggles. 20 neue RESX-Keys in 6 Sprachen.
- **v2.0.3 (19.02.2026)**: Gameplay-Overhaul (15 Punkte): (1) DifficultyStars Expert = 4 Sterne in 7/8 ViewModels (fehlender Case vor Default). (2) Blueprint Expert-Parameter (16 Steps, 4 Cols, 20s, 2000ms Memo). (3) Painting Hard/Expert rebalanciert (Hard 22s statt 32s, Expert 6x6/30s). (4) Expert Reward 5→8x, XP 4.5→7x. (5) Wiring Expert 7 Wires/18s. (6) Inspection Hard/Expert 28s. (7) DesignPuzzle Expert 10 Rooms. (8) Event-RewardMultiplier in CompleteActiveOrder verdrahtet (inkl. AffectedWorkshop-Filter). (9) OrderType Large/Weekly/Cooperation generiert (DetermineOrderType mit Level+Reputation-basierter Wahrscheinlichkeit, Kundennamen, Cooperation mischt 2 Workshop-Typen). (10) Abgelaufene Orders im GameLoop (alle 60 Ticks). (11) Stammkunden-System (Perfect→RegularCustomer, BonusMultiplier 1.1-1.5x). (12) Event AffectedWorkshop (HighDemand/MaterialShortage) + MarketRestriction (WorkerStrike→Tier C). (13) Event-Intervalle Prestige-skaliert (8h→3h, 30%→50%). (14) QuickJob Rotation/Limit Prestige-skaliert (15→8min, 20→40/Tag). (15) Workshop-Kosten hybrid (linear bis Lv.100, exponentiell 1.008^(Lv-100) danach). Reputation: ExtraOrderSlots + OrderQualityBonus. 7 neue RESX-Keys in 6 Sprachen.
- **v2.0.3 (19.02.2026)**: MiniGame-Schwierigkeit Workshop-Level + Prestige-basiert: (1) OrderGeneratorService.GetDifficulty(workshopLevel, prestigeCount) statt GetDifficultyForPlayerLevel(playerLevel). 5 WS-Level-Stufen (1-25/26-100/101-300/301-700/701+) x 4 Prestige-Stufen (0/1+/2+/3+). Expert nur mit Prestige. (2) QuickJobService.GetQuickJobDifficulty(workshopLevel): 4 Stufen (1-50=Easy/51-200=E50M50/201-500=E20M55H25/501+=E5M45H50), kein Expert. (3) Workshop-Level aus state.Workshops statt hardcodiert Easy.
- **v2.0.3 (19.02.2026)**: RoofTiling-MiniGame Overhaul: (1) Kontrastreichere Farbpalette (Rot/Terrakotta/Dunkelbraun/Sandgelb/Schiefer statt 6 erdige Brauntöne). (2) Schwierigkeit rebalanciert: Easy 3x3/45s, Medium 4x4/50s, Hard 5x4/50s, Expert 5x5/45s (max 5 statt 6 Farben). (3) Gleichmäßige Hint-Verteilung: Jede Reihe mindestens 1 Hint garantiert. (4) Teilbewertung bei Zeitablauf: >=90% platziert + <=2 Fehler = Good, >=70% + <=4 = Ok, <70% = Miss. Fehlertoleranz für Ok auf 8 erhöht. (5) SelectColorHint: Farbpalette pulsiert wenn ohne Farbwahl getippt wird (Opacity-Blink 2x). (6) Tutorial-Text verbessert (Gold-Rand-Hinweise erklärt) in 6 Sprachen.
- **v2.0.3 (19.02.2026)**: MiniGame-Ergebnis-Anzeige verbessert: (1) €-Fix: PipePuzzleView.axaml `\u20ac` → `&#x20AC;`. (2) Sterne-Animation beschleunigt: MiniGameEffectHelper Delay 200→100ms, Duration 400→250ms (~1.8s→~1.05s). (3) Zwischen-Runden (nicht letzte Aufgabe): Sterne sofort setzen (kein staggered), kein GameCompleted Event. (4) Letzte Aufgabe: Aggregierte Sterne aus order.TaskResults berechnet (totalStars/totalPossible*3, Clamp 0-3), dann staggered Animation + GameCompleted. Alle 8 ViewModels identisch geändert.
- **v2.0.3 (18.02.2026)**: Story-System Overhaul: (1) Von 10 auf 25 Kapitel erweitert (Tutorial 1-5, Early Game 6-12, Mid Game 13-17, Prestige 18-21, Endgame 22-25). (2) SkiaSharp NPC-Portrait (MeisterHansRenderer): 4 Stimmungen (happy/proud/concerned/excited), Idle-Bobbing, Blinzel-Animation (3-4.5s Intervall, 150ms Dauer), gelber Helm, Bart, stimmungsabhängige Deko (Gold-Sterne/Ausrufezeichen/Schweißtropfen). (3) Story-Dialog UI: SKCanvasView 120x120 Portrait, Speech-Bubble Layout, Kapitel-Badge, goldene Reward-Box. (4) StoryChapter.IsTutorial Flag + MainViewModel Properties (StoryChapterNumber, StoryTotalChapters, IsStoryTutorial, StoryChapterBadge). (5) 51 neue RESX-Keys (StoryTipFromHans + 25x Title/Text) in 6 Sprachen. (6) Prestige-basierte Trigger (RequiredPrestige 1-13).
- **v2.0.3 (18.02.2026)**: Worker-Balance + Level-Anforderungssystem: (1) Effizienz-Ranges stark erweitert (~1.5x pro Tier): F=0.3-0.5 bis Legendary=13.0-22.0. (2) Löhne ~1.8x/Tier (5-900 €/h). ROI sinkt ~15%/Tier statt ~50%. (3) Individuelle Marktpreise: `Worker.CalculateMarketPrice()` (Talent 0.7-1.3x, Persönlichkeit, Spezialisierung +15%, Effizienz-Position 0.85-1.15x). Einkommensbasierter Mindestpreis: ~3min NettoEinkommen * TierStufe als Floor. (4) **Level-Anforderungsmalus**: Workshop-Level >30 senkt Worker-Effizienz (-2% alle 30 Level). Tier-Resistenz: F=0% bis Legendary=100% immun. Forschung (5 Management-Nodes) gibt bis zu +0.40 LevelResistanceBonus (Cap 0.50). `Workshop.GetWorkerLevelFitFactor()` in GrossIncomePerSecond. Min-Faktor 20%. (5) SanitizeState migriert bestehende Worker (Löhne + Effizienz-Clamp).
- **v2.0.3 (18.02.2026)**: Workshop-Milestones überarbeitet: Schwellen von [10,25,50,100,250,500,1000] auf [50,100,250,500,1000] geändert (weniger Benachrichtigungs-Spam bei schnellem Hochleveln). Workshop-Milestones geben jetzt Goldschrauben-Belohnung (2/5/10/25/50) statt nur Benachrichtigung.
- **v2.0.3 (17.02.2026)**: MiniGame-Verbesserungen + Auftrags-Rebalancing: (1) Hauptauftrags-Belohnungen einkommensbasiert skalierend (wie QuickJobs): `perTaskReward = Max(100+Level*100, NetIncomePerSecond*300)` mit Task-Count-Multiplikator und 15% Bonus pro Extra-Aufgabe. (2) MiniGame-Belohnungen IMMER sichtbar (nicht nur letzte Aufgabe): Teilbelohnung pro Aufgabe berechnet (BaseReward/TaskCount * ResultPercentage). (3) MiniGame-Button-Text Überlauf behoben: TextBlock mit TextTrimming="CharacterEllipsis" statt direktem Content-Binding auf Button. (4) MiniGame-Tutorial-System: Tutorial-Overlay beim ersten Spielstart pro MiniGame-Typ (8 Tutorials in 6 Sprachen). GameState.SeenMiniGameTutorials (List<MiniGameType>). CheckAndShowTutorial() + DismissTutorial() in allen 8 ViewModels. 19 neue Lokalisierungs-Keys (TutorialXxxTitle/Text + TutorialGotIt) in 6 Sprachen.
- **v2.0.3 (16.02.2026)**: SkiaSharp LinearProgress-Visualisierung: 14 ProgressBars in 8 Views durch SKCanvasView + LinearProgressVisualization ersetzt. DashboardView (4: XP-Level amber/gold mit Glow, DailyChallenge orange, Workshop-Level orange, Milestone gold), WorkshopView (1: LevelProgress), WorkerProfileView (4: Mood grün/Fatigue rot/XP orange/Training orange), OrderView (1: OrderProgress), AchievementsView (2: OverallProgress + Achievement-Fortschritt im DataTemplate), InspectionGameView (1: InspectionProgress), PaintingGameView (1: PaintProgress). Gradient-Balken mit Glow-Effekt, DataTemplate-Handler per Reflection.
- **v2.0.3 (16.02.2026)**: Research UX-Verbesserungen: (1) Header verkleinert (MinHeight 140→90, Font 20→16, Icons 28→22/24→20, Badges 14→12, Padding 16,12→12,6). (2) TopPadding im ResearchTreeRenderer 10→30 (erste Forschung nicht mehr verdeckt). (3) Bestätigungsdialog beim Starten einer Forschung: Zeigt Name, Effekt-Beschreibung, Kosten und Dauer. StartResearch ist jetzt async mit ConfirmationRequested (Ad-Banner wird automatisch ausgeblendet). 2 neue Lokalisierungs-Keys (ResearchConfirmCost, ResearchConfirmDuration) in 6 Sprachen. (4) Tab-Selector Margin 12→8.
- **v2.0.3 (16.02.2026)**: Research 2D-Baum + Workshop-Illustrationen: (1) Research-Tree komplett auf Top Heroes-Style 2D-Baumstruktur umgebaut: 6 neue Renderer (ResearchTreeRenderer, ResearchIconRenderer, ResearchActiveRenderer, ResearchBranchBannerRenderer, ResearchTabRenderer, ResearchCelebrationRenderer) + ResearchView.axaml.cs komplett neu geschrieben für 6 SKCanvasViews + CelebrationRequested Event in ResearchViewModel. (2) Workshop-Karten auf Dashboard mit SkiaSharp-Illustrationen als Header: WorkshopCardRenderer (8 thematische Szenen) + WorkshopIllustrationView (Custom SKCanvasView für DataTemplates). (3) Billing-Berechtigung (`com.android.vending.BILLING`) in allen 6 Premium-App AndroidManifest.xml ergänzt.
- **v2.0.3 (15.02.2026)**: Workshop-Freischalten UX-Verbesserung: (1) Ad-Banner wird beim Confirm-Dialog ausgeblendet (HideBanner beim Öffnen, ShowBanner beim Schließen). (2) Freischaltbare Workshops (Level erreicht) visuell hervorgehoben: Craft-Orange Glow-Schatten auf der Karte, farbiges offenes Schloss-Icon statt grauem Lock, prominente Kostenanzeige mit "Tippe zum Freischalten"-Hinweis, erhöhte Header-Farbintensität (0.30 statt 0.10). Nicht-freischaltbare Workshops bleiben gedimmt mit grauem Schloss. 1 neuer Lokalisierungs-Key (TapToUnlock) in 6 Sprachen.
- **v2.0.3 (15.02.2026)**: MiniGame-Spielfeld-Optimierung v5 (DPI-Root-Cause-Fix): Alle 8 MiniGame Code-Behind Dateien verwendeten `SKRect.Create(0, 0, info.Width, info.Height)` (physische Pixel) statt `canvas.LocalClipBounds` (tatsächlicher sichtbarer Bereich). Bei DPI-Skalierung war info.Width/Height größer als die geclippte Fläche → asymmetrisches Rechts-Clipping (selbes Problem wie Dashboard-Workshops). Fix: Alle 8 Views auf `canvas.LocalClipBounds` umgestellt (SawingGame, PipePuzzle, Wiring, Painting, Inspection, Blueprint, RoofTiling, DesignPuzzle). Touch-Skalierung nutzt konsistent `_lastBounds` aus dem letzten Render. WiringGameRenderer Padding von 20→12 zurückgesetzt (DPI war die wahre Ursache, nicht Padding).
- **v2.0.3 (15.02.2026)**: MiniGame-Spielfeld-Optimierung v4: Alle Renderer von vertikaler Zentrierung auf Oben-Ausrichtung umgestellt (PipePuzzle, Inspection, Painting, Blueprint, DesignPuzzle, RoofTiling) - eliminiert leeren Raum unterhalb des Grids. Wiring-Renderer Padding 12→20 + Gap 6→8 (OUT-Panel rechts nicht mehr abgeschnitten). PaintingGameRenderer AddSplatter-Methode auf konsistente Padding/Size-Werte aktualisiert. HitTest-Methoden in allen Renderern identisch mit Render-Methoden synchronisiert.
- **v2.0.3 (15.02.2026)**: MiniGame-Spielfeld-Optimierung v3 (Root-Cause-Fix): `Classes="Card StatsCard"` auf Canvas-Borders war die Hauptursache - Style-Klassen applizierten verstecktes Padding=16, CornerRadius=16, Margin=0,0,0,12 die auch mit explizitem `Padding="0"` interferierten. Fix: Alle 8 Canvas-Borders umgestellt auf direkte Properties (`Background="{DynamicResource CardBrush}" CornerRadius="8"`) ohne CSS-Klassen. Alle Size-Caps aus Renderern entfernt (PipePuzzle 72px, Painting 54px, Inspection 64px, Blueprint 80px, RoofTiling 64px, DesignPuzzle 100px) - Bounds bestimmen jetzt allein die Größe. Renderer-Padding auf 12px standardisiert für CornerRadius=8 Sicherheit.
- **v2.0.3 (15.02.2026)**: MiniGame-Spielfeld-Optimierung v2: Hauptproblem gefunden - StatsCard-Style hatte `Padding="16"` was 32px Breite+Höhe vom Canvas fraß. Fix: Alle 8 Canvas-Borders bekommen `Padding="0"` explizit (überschreibt StatsCard-Default). Zusätzlich: PaintingGame `HorizontalAlignment="Center"` entfernt, DesignPuzzle `HorizontalAlignment="Center"` + `MinWidth="260"` entfernt, PaintingGame `MinWidth="200"` entfernt. Alle MiniGame-Views horizontales Margin 20→10. Säge-Geschwindigkeit MARKER_SPEED 0.022→0.017. Wiring-Renderer Padding 12→8 + Gap=6 (Render+HitTest sync). PipePuzzle Tile-Cap 60→72px, Renderer-Padding 12→8.
- **v2.0.3 (15.02.2026)**: Workshop-Animationen v2 - Große erkennbare Szenen: DrawAnimatedElements() komplett neu implementiert. Statt kleiner Werkzeug-Animationen an Werkbänken jetzt 8 große Szenen die den gesamten freien Canvas-Bereich nutzen: Carpenter (Handsäge fährt über großes Holzbrett mit Vibration+Zähnen+Schnittlinie+Sägemehl), Plumber (L-Rohrsystem mit Wasser-Puls+rotierendem Ventilrad+Rohrzange), Electrician (3 farbige Kabel mit Strom-Pulsen+Verteilerdose+blinkende LEDs+Schraubendreher), Painter (Wand wird mit Farbroller gestrichen, Farbfront wächst+Eimer+Kleckse), Roofer (Dachziegel progressiv auf Holzfläche gelegt+Hammer+Dachlatten), Contractor (Backsteinmauer wächst von unten mit Kelle+Mörtel+schwebender Stein+Zementsack), Architect (Bauplan progressiv gezeichnet auf Blaupause mit Raster+Bleistift+Lineal+Trennwände), GeneralContractor (Goldener Vertrag zentral+Stempel mit Bump+Siegel+Gold-Shimmer+Münzen). Worker-Skalierung unverändert (0/1/2-3/4+). 4+ Worker: Extra-Effekte (zweite Säge/Dampfwolke/Blitz/zweiter Roller/Fließband/Wasserwaage/Zirkel/Gold-Regen+Stern).
- **v2.0.3 (15.02.2026)**: MiniGame-Fortschrittsanzeige + aggregierte Belohnungen: TaskProgressDisplay ("Aufgabe X/Y") in allen 8 MiniGame-Headern. Belohnungen nur nach letzter Aufgabe sichtbar (IsLastTask). Ad-Button nur bei letzter Aufgabe. Zwischen-Aufgaben: "Nächste Aufgabe"-Button. Letzte Aufgabe: Ad+Weiter-Grid. CanWatchAd = IsLastTask && IsAvailable. 2 neue Lokalisierungs-Keys (TaskProgress, NextTask) in 6 Sprachen.
- **v2.0.3 (15.02.2026)**: Verkabelungs-MiniGame SkiaSharp-Renderer: WiringGameRenderer (Graphics/) ersetzt XAML-ItemsControl durch SkiaSharp-Rendering. Sicherungskasten-Optik: Dunkelgrauer Panel-Hintergrund (#37474F) mit Schrauben-Deko in Ecken, links/rechts Kabel-Anschlüsse mit 6 Farben (Rot/Blau/Grün/Gelb/Orange/Lila), Verbindungslinien als Bezier-Kurven zwischen verbundenen Paaren, Funken-Partikel bei erfolgreicher Verbindung (20 max, goldgelb, aufsteigend), Auswahl-Highlight (weiss-transparent), Verbindungs-Glow (grün), Fehler-Flash (rot blinkend). WireRenderData Struct für View->Renderer-Daten. Touch-HitTest unterscheidet linke/rechte Seite. View: SKCanvasView ersetzt Kabel-Grid, 20fps Render-Loop, Code-Behind mit Result-Polish. ViewModel unverändert.
- **v2.0.3 (15.02.2026)**: Inspektions-MiniGame SkiaSharp-Renderer: InspectionGameRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch SkiaSharp-Rendering. Baustellen-Optik: Betongrau-Hintergrund (#607D8B) mit Rissen/Fugen/Kratzern, abgerundete Kacheln mit Baustellen-Icons, gruener Rahmen+Haekchen-Kreis bei gefundenen Maengeln, roter Rahmen+X-Kreis bei Fehlalarmen, subtiles rotes Schimmern auf unentdeckten Defekt-Zellen (Sinus-Puls), Lupe-Deko (schwankende Animation), Staub-Partikel (15 max, aufsteigend mit Wind-Drift und Fade-In/Out). InspectionCellData Struct fuer View->Renderer-Daten. HitTest mit DPI-Skalierung (CanvasSize/Bounds Ratio). View: SKCanvasView ersetzt Inspektions-Grid (Grid.Row="2"), 5-Row Layout (Header/Stats/Canvas/Result/Buttons), 20fps Render-Loop via DispatcherTimer, PointerPressed->HitTest->InspectCellCommand, Code-Behind mit Result-Polish (Rating-Farbe, Staggered Stars, Border-Pulse, animierte Belohnungs-Texte). ViewModel: GridColumns/GridRows public Properties ergaenzt.
- **v2.0.3 (15.02.2026)**: Grundriss-Puzzle SkiaSharp-Renderer: DesignPuzzleRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch SkiaSharp-Rendering. Architektenplan-Stil: warmer Papier-Hintergrund mit feinem blauen Blaupause-Raster (20px), Massstab-Markierungen am linken und oberen Rand, dicker blauer Grundriss-Rahmen mit Schatten, innere Trennwaende mit Tuer-Oeffnungen (30% Slot-Groesse). Leere Slots: gestrichelter animierter Rand (Dash-Offset scrollt), transparentes Hint-Icon in Mitte, "?" oben rechts, pulsierender Glow (Sinus). Gefuellte Slots: Farb-Hintergrund + Emoji + gruener Haekchen-Kreis unten rechts (2 Linien als Check). Fehler-Flash: Rot blinkend mit "X"-Markierung (400ms Decay, schnelles Sinus-Blinken). Touch-HitTest mit DPI-Skalierung (CanvasSize/Bounds Ratio). Raum-Auswahl-Karten bleiben XAML (ScrollViewer + ItemsControl). View: SKCanvasView ersetzt Slot-Grid, 20fps Render-Loop via DispatcherTimer, Code-Behind mit Result-Polish (Rating-Farbe, Staggered Stars, Border-Pulse, animierte Belohnungs-Texte). ViewModel unveraendert.
- **v2.0.3 (15.02.2026)**: Dachdecken-MiniGame SkiaSharp-Renderer: RoofTilingRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch SkiaSharp-Rendering. Holz-Dachstuhl-Hintergrund (#5D4037) mit diagonalen Sparren und gegenlaeuefigen Kreuz-Sparren + horizontale Dachlatten, dekorativer Dachfirst oben (Segmente, Firstkappen-Punkte, Glanz/Schatten), Ziegel mit gebogener 3D-Optik (heller Glanz-Streifen oben, Seiten-Schatten, dunkle Unterkante), Hint-Ziegel mit Schloss-Symbol + Gold-Rand, platzierte Ziegel mit Haekchen + Gruen-Rand, Fehler-Blinken (Rot-Blend 0.5s via _errorBlinks Dictionary), leere Plaetze mit Punkt-Indikator, ungerade Reihen 15% versetzt (echte Dachziegel-Optik). Farbauswahl-Leiste bleibt XAML (SelectColorCommand Binding). View: SKCanvasView ersetzt Dach-Grid (Grid.Row="3"), 6-Row Layout (Header/Stats/Farbauswahl/Canvas/Result/Buttons), Touch-HitTest berechnet Ziegel-Index mit DPI-Skalierung, 20fps Render-Loop, Code-Behind mit Result-Polish (Rating-Farbe, Staggered Stars, Border-Pulse, animierte Belohnungs-Texte). ViewModel unveraendert.
- **v2.0.3 (15.02.2026)**: Bauplan-MiniGame SkiaSharp-Renderer: BlueprintGameRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch SkiaSharp-Rendering. Dunkelblauer Blaupausen-Hintergrund (#1A237E) mit feinen (20px) und groben (80px) Grid-Linien + Eck-Diagonalen, abgerundete Kacheln mit Emoji-Icon oben + Nummer/Fragezeichen unten, Gradient-Highlight auf Kachel-Oberseite, pulsierender gelber Glow-Rand fuer aktiven Schritt (Sinus 5Hz), gruenes Haekchen-Badge oben rechts bei erledigten Schritten, rotes Fehler-Overlay bei falschem Tipp, Blaupausen-Staub-Partikel (15 max, Sinus-Drift, Ein-/Ausblenden). View: SKCanvasView ersetzt Bauplan-Grid (Grid.Row="2"), Touch-HitTest berechnet Step-Index aus Pointer-Position mit DPI-Skalierung, 20fps Render-Loop via DispatcherTimer, Header/Stats/Result/Buttons bleiben XAML. Code-Behind mit Result-Polish (Rating-Farbe, Staggered Stars, Border-Pulse, animierte Belohnungs-Texte). ViewModel unveraendert.
- **v2.0.3 (15.02.2026)**: Streich-MiniGame SkiaSharp-Renderer: PaintingGameRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch Pixel-Art Rendering. Putzwand-Hintergrund mit Fugenlinien, Zellen mit Pinselstrich-Textur (gestreift), Haekchen bei korrektem Strich, X-Markierung + roter Flash bei Fehlern, pulsierende Zielmarkierung + animierter gestrichelter Rand auf Zielzellen, Farbspritzer-Partikel (5 pro Treffer, kreisfoermig, verblassend). View: SKCanvasView ersetzt Canvas-Grid (Grid.Row="2"), Touch-HitTest berechnet Zell-Index aus Pointer-Position mit DPI-Skalierung, 20fps Render-Loop via DispatcherTimer, Header/Stats/Result/Buttons bleiben XAML, Farbvorschau als Overlay auf Canvas. Code-Behind erweitert um Result-Polish (Rating-Farbe, Staggered Stars, Border-Pulse, animierte Belohnungs-Texte). ViewModel unveraendert.
- **v2.0.3 (15.02.2026)**: Rohr-Puzzle SkiaSharp-Renderer: PipePuzzleRenderer (Graphics/) ersetzt XAML-ItemsControl/WrapPanel durch Pixel-Art Rendering. Metall-Rohre auf Beton-Kacheln mit Schatten/Highlight/Flansche/Niet-Detail, Wasser-Puls-Animation (Sinus-Glow auf verbundenen Kacheln), Quell(S)/Ziel(Z)-Indikatoren mit farbigem Hintergrund, Schloss-Symbol fuer gesperrte Kacheln. View: SKCanvasView ersetzt Puzzle-Grid (Grid.Row="2"), Touch-HitTest berechnet Kachel-Index aus Pointer-Position mit DPI-Skalierung, 20fps Render-Loop via DispatcherTimer, Header/Stats/Result/Buttons bleiben XAML. ViewModel unveraendert.
- **v2.0.3 (15.02.2026)**: Säge-MiniGame SkiaSharp-Renderer: SawingGameRenderer (Graphics/) ersetzt XAML-Borders durch Pixel-Art Rendering. Holzbrett mit Maserung/Astlöchern/Seitenkanten, animierte Säge (Vibration bei isPlaying), Timing-Bar mit 4 Zonen (Miss/Ok/Good/Perfect) + Perfect-Zone Glow-Puls, weißer Marker mit Schatten/Glanz/Pfeil-Indikator, Sägemehl-Partikel (max 20, Schwerkraft+Verblassen). View: SKCanvasView ersetzt Game-Area (Grid.Row="1"), 20fps Render-Loop via DispatcherTimer, Header/Result/Buttons bleiben XAML. ViewModel unverändert.
- **v2.0.3 (15.02.2026)**: Worker-Avatare: (1) WorkerAvatarControl (Custom Control mit SKCanvasView) fuer wiederverwendbare Pixel-Art Avatare. StyledProperties: IdSeed (string), Tier (WorkerTier), Mood (decimal), AvatarSize (int), IsFemale (bool). (2) WorkerAvatarRenderer erweitert um Geschlecht: Weiblich = laengere Haarstraehnen + rosafarbene Lippen, Maennlich = Kurzhaar + breiterer Kiefer. 6 Haarfarben deterministisch aus Hash. (3) TierHatColors um SS/SSS/Legendary ergaenzt, Sterne-Markierung fuer alle S+ Tiers. (4) Worker.IsFemale Property (deterministisch aus Id.GetHashCode). (5) Integriert in WorkerMarketView (40dp, links neben Name) und WorkerProfileView (64dp, im Header).
- **v2.0.3 (15.02.2026)**: Research-Labor Header: ResearchLabRenderer (SkiaSharp) zeichnet animierte Werkstatt-Szene als Header-Hintergrund in ResearchView. Elemente: Holzwand+Boden, Bücherregal links, Arbeitstisch mit Glaskolben/Blaupausen/Werkzeugen, 2 rotierende Zahnräder, pulsierende Glühbirne, Dampf-Partikel aus Kolben. Bei aktiver Forschung: Funken-Partikel + glühender Fortschrittsbalken. Semi-transparenter Gradient-Overlay (#B0/#A0 Alpha). 20fps Render-Loop via DispatcherTimer im Code-Behind.
- **v2.0.3 (15.02.2026)**: Game Juice Phase 6: (1) Muenz-Partikel im City-Header bei Geld-Einnahmen (3 goldene Coin-Partikel via AnimationManager.AddCoinParticle). (2) Money-Display Opacity-Flash (400ms Blink) bei Einnahmen. (3) Confetti-Burst bei "level" und "golden_screws" FloatingText-Events. (4) Offline-Earnings loesen FloatingText "money" aus → Muenz-Partikel + Flash. Neuer OnFloatingTextForParticles-Handler parallel zu OnFloatingTextRequested.
- **v2.0.3 (15.02.2026)**: MiniGame Visual Polish Phase 5.1+5.2: (1) MiniGameEffectHelper (wiederverwendbar) mit Staggered Stars, Rating-Brush, Border-Pulse, Countdown-Animation, Reward-Text-Animation, Zone-Flash. (2) SawingGameView Polish: Countdown-Overlay mit pulsierendem Text, Result-Section mit Rating-Farbe (Gold/Gruen/Orange/Rot), staggered Sterne per Code-Behind, Border-Pulse, animierte Belohnungs-Texte, Zone-Flash bei Treffer. (3) SawingGameViewModel: GameStarted/GameCompleted/ZoneHit Events. (4) App.axaml: Rating-CSS-Klassen (RatingPerfect/Good/Ok/Miss).
- **v2.0.3 (15.02.2026)**: Story-System Initial: StoryChapter Model, IStoryService/StoryService, DI-Registrierung. Fortschrittsbasierte Freischaltung (Level, Workshops, Aufträge, Prestige). Belohnungen: Geld, Goldschrauben, XP. GameState erweitert um ViewedStoryIds + PendingStoryId. (Erweitert auf 25 Kapitel + NPC-Portrait am 18.02.2026)
- **v2.0.3 (15.02.2026)**: City-Skyline im Dashboard-Header: SKCanvasView als Header-Hintergrund (DashboardView.axaml), CityRenderer zeichnet animierte Gebäude/Straße, semi-transparenter Gradient-Overlay (#B0/#A0 Alpha) darüber damit City durchscheint, 20fps Render-Loop via DispatcherTimer. GetGameStateForRendering() in MainViewModel für Rendering-Zugriff. CityRenderer animiert: (1) 4 Pixel-Art Wolken (verschiedene Höhen/Geschwindigkeiten). (2) Rauchpartikel aus Schornsteinen (3 Partikel/Workshop, aufsteigend+verblassend). (3) Blinkende Fenster nachts (20-06 Uhr, deterministisch).
- **v2.0.3 (15.02.2026)**: Hold-to-Upgrade: Upgrade-Button auf Workshop-Karten gedrückt halten = schnelles Hochleveln (DispatcherTimer 120ms). Stille Upgrades ohne Sound/FloatingText pro Tick, am Ende einmalig Sound + Zusammenfassung ("+N Level!"). Tunneling PointerPressed/Released Events in DashboardView.axaml.cs, FindUpgradeButton() traversiert visuellen Baum. 3 neue public Methoden in MainViewModel (UpgradeWorkshopSilent, PlayUpgradeSound, RefreshSingleWorkshopPublic).
- **v2.0.3 (13.02.2026)**: 4-Punkt Bugfix: (1) Dashboard Workshop-Karten Layout: RowDefinitions von `Auto,*,Auto` auf `Auto,Auto,Auto` geändert, VerticalAlignment="Top" statt "Stretch" → Karten überlappen/schneiden nicht mehr ab. Kompakterer Header (Icon+Name+Level-Badge in einer Zeile). (2) Daily Challenges Live-Update: ChallengeProgressChanged Event in IDailyChallengeService/DailyChallengeService hinzugefügt, wird bei IncrementChallenge()/SetChallengeMax() gefeuert. MainViewModel subscribt Event → RefreshChallenges() sofort statt nur bei Tab-Wechsel. RefreshChallenges() erstellt neue Listen-Kopie (CommunityToolkit Referenz-Gleichheitsprüfung umgangen). (3) Research ProgressBar Fix: Progress (0-100) wird durch 100 geteilt für ProgressBar Maximum=1 (in UpdateTimer() und BuildBranchDisplayItems()). Vorher zeigte 1% bereits volle Bar. (4) Worker-Transfer Fix: IsVisible bindet an bool HasAvailableWorkshops statt int Count (Avalonia konvertiert int nicht zu bool). SelectedTransferWorkshop Property statt fragiler ComboBox CommandParameter-Binding. TransferWorkerCommand parameterlos. SanitizeState: AssignedWorkshop wird korrigiert wenn Worker in falschem Workshop steckt.
- **v2.0.3 (13.02.2026)**: Immersive-Mode-Fix: OnWindowFocusChanged Override hinzugefügt → EnableImmersiveMode() wird bei Fokus-Wechsel erneut aufgerufen. Vorher blieben Status-/Navigationsleiste nach Ad-Anzeige oder Alt-Tab sichtbar.
- **v2.0.3 (13.02.2026)**: UI/UX Overhaul Phase 4-6: (1) BottomSheetBehavior mit translateY-Animation (TransformOperationsTransition, px-Einheiten). (2) WorkerProfile als Bottom-Sheet Overlay (nicht mehr Full-Page, unterliegende View bleibt sichtbar), Confirm-Dialoge als Bottom-Sheet. (3) CSS-Klassen SheetBackdrop/BottomSheet/ConfirmSheet in MainView.axaml. (4) PaintingGame Combo-System: ComboCount, ComboMultiplier (1.0x + bestCombo/5 * 0.25), Combo-Badge mit ScaleUpDown-Animation, ComboIncreased Event. (5) Dashboard Parallax-Effekt: Header verschiebt sich beim Scrollen (translateY = -scrollOffset * 0.3, max 20px).
- **v2.0.3 (13.02.2026)**: 7-Punkt Bugfix & Feature Update: (1) QuickJob-Rewards werden bei jedem GetAvailableJobs() neu berechnet (skaliert mit aktuellem Einkommen statt fix bei Generierung). (2) Training-System erweitert: 3 Trainings-Typen (Efficiency/Endurance/Morale), TrainingType Enum, Worker Properties EnduranceBonus/MoraleBonus (persistent, max 50% Reduktion), Typ-Auswahl-Buttons + Echtzeit-Fortschrittsbalken in WorkerProfileView. (3) Dashboard Hire-Button navigiert zum Arbeitermarkt statt direkt zu hiren. (4+5) DailyChallenge-Refresh alle 5 Ticks im OnGameTick + WorkerProfile-Update alle 3 Ticks. (6) ShopViewModel subscribt MoneyChanged + GoldenScrewsChanged Events für Live-Balance. (7) SettingsView zeigt alle 5 Premium-Benefits (+50% Einkommen, +100% Goldschrauben). 8 neue Lokalisierungs-Keys in 6 Sprachen.
- **v2.0.3 (13.02.2026)**: Android Zurück-Taste: Double-Back-Press zum Beenden (2s Fenster, Toast-Hinweis). Zurück-Navigation stufenweise: Dialoge schließen → MiniGame/Detail-View → Sub-Tabs → Dashboard. HandleBackPressed() + ExitHintRequested Event in MainViewModel, OnBackPressed() in MainActivity. RESX-Key `PressBackAgainToExit` in 6 Sprachen.
- **v2.0.3 (13.02.2026)**: Deep-Audit #3 - 10 Fixes: (1) KRITISCH: Shop-IAP Consumables (Goldschrauben-Pakete, Instant-Cash, Booster) geben Rewards jetzt erst nach erfolgreichem PurchaseConsumableAsync() statt sofort ohne Kauf. IPurchaseService um PurchaseConsumableAsync erweitert. (2) ShopViewModel Memory Leak: IDisposable implementiert, PremiumStatusChanged wird korrekt unsubscribed. (3) Achievement "prestige_1" nutzt jetzt Prestige.TotalPrestigeCount statt Legacy-Feld PrestigeLevel. (4) Worker-Tier Achievements (SS/SSS/Legendary) prüfen jetzt tatsächlich Worker-Tiers statt Self-Reference. (5) all_workshops Achievement zählt UnlockedWorkshopTypes statt Workshop-Instanzen. (6) Reputation-Decay Timer in GameState persistiert (LastReputationDecay) statt lokales Feld in GameLoopService. (7) Training-XP Akkumulator-Pattern: TrainingXpAccumulator statt (int)xpGain Cast-Truncation. (8) Random.Shared statt new Random() in DailyChallengeService + QuickJobService. (9) Prestige-Reset: LastReputationDecay wird zurückgesetzt. (10) PermanentMultiplier 20x-Cap: Konsistent in DoPrestige() (Write), TotalIncomePerSecond (Read) und SanitizeState (Load) angewendet. GetPermanentMultiplier() vereinfacht (keine Shop-Boni mehr fälschlich addiert).
- **v2.0.3 (13.02.2026)**: 7-Punkt Bugfix-Audit: (1) Prestige-Shop Income-Items (pp_income_10/25/50) werden jetzt im GameLoop auf Brutto-Einkommen angewendet. (2) GoldenScrewBonus (pp_golden_screw_25, +25%) wird jetzt in AddGoldenScrews() angewendet. (3) Worker Working-XP Fix: Math.Max(1,...) Bug entfernt, Akkumulator-Pattern statt 1 XP/Tick (war 72x schneller als Training). (4) Prestige-Reset ergänzt: Rush, Lieferant, QuickJobs, DailyChallenges, MasterTools werden zurückgesetzt. (5) Offline-Einnahmen nutzen jetzt alle Modifikatoren (Research, MasterTools, Prestige-Shop, CostReduction, Storage). (6) BulkUpgrade Event sendet korrekte oldLevel/newLevel/totalCost statt Nullwerte. (7) MasterTool als static class (tote Instance-Properties entfernt).
- **v2.0.3 (12.02.2026)**: Neue Features: (1) Feierabend-Rush: 2h 2x-Boost, 1x täglich gratis, weitere 10 Goldschrauben. Stackt mit SpeedBoost. (2) Meisterwerkzeuge: 12 sammelbare Artefakte (5 Seltenheitsstufen) mit permanenten Einkommens-Boni (+2% bis +15%). Prüfung alle 2min im GameLoop. (3) Lieferant-System: Variable Rewards alle 2-5min (Geld/Schrauben/XP/Mood/Speed). 2min Abholzeit. (4) Prestige-Shop erweitert: 3 neue Items (Rush-Verstärker 3x, Lieferanten-Express -30% Intervall, Goldschrauben-Boost +25%). PrestigeEffect um RushMultiplierBonus, DeliverySpeedBonus, GoldenScrewBonus erweitert. 42 neue Lokalisierungs-Keys in 6 Sprachen.
- **v2.0.3 (12.02.2026)**: Deep-Audit #2 - Tote Systeme + Balancing: (1) Reputation-System aktiviert: AddRating bei Auftragsabschluss, ReputationMultiplier (0.7x-1.5x) auf Belohnungen. (2) SpecialEffect-Events funktional: TaxAudit (-10% Einkommen), WorkerStrike (Mood -20 alle Worker). (3) Event-ReputationChange: CelebrityEndorsement/EconomicDownturn wirken auf Reputation. (4) ExtraOrderSlots: Office-Gebäude + Research erhöhen Auftragsanzahl über 3. (5) Showroom-DailyReputationGain + Reputation-Decay im GameLoop. (6) Random.Shared statt new Random() in OrderGeneratorService + EventService. (7) DailyChallengeService: Netto statt Brutto für Belohnungsberechnung. (8) Saisonaler Multiplikator zentralisiert (EventService.GetSeasonalMultiplier). (9) CostReduction Cap: 75%→50%. (10) Building-Kosten: 3^Level→2^Level (sanftere Kurve). (11) Research EfficiencyBonus Cap bei +50%. (12) SanitizeState erweitert: Prestige, DailyRewardStreak, Worker-Mood/Fatigue, Reputation, Building-Levels.
- **v2.0.3 (12.02.2026)**: Deep-Audit Gameplay-Optimierungen: (1) Prestige früher verfügbar (Bronze Lv.30, Silver Lv.100, Gold Lv.250 statt 100/300/500). (2) Research-Effekte werden im GameLoop angewendet (EfficiencyBonus auf Einkommen, CostReduction+WageReduction auf Kosten). (3) Gebäude-Effekte aktiv: Canteen→Stimmungs-Erholung+Rest-Beschleunigung, Storage→Kosten-Reduktion, TrainingCenter→Training-Speed, VehicleFleet→Auftrags-Bonus, WorkshopExtension→Extra-Worker-Slots. (4) Offline-Einnahmen mit Saison-Multiplikator. (5) Milestone-Celebrations bei Level 10/25/50/100/250/500/1000 mit Goldschrauben-Bonus. (6) Bulk Buy (x1/x10/x100/Max) für Workshop-Upgrades. (7) Material-Kosten level-basiert statt zirkulär. (8) Login-Streak auf 30 Tage erweitert. (9) QuickJob-Exploit behoben (MiniGame muss gespielt werden). (10) Prestige-Shop-Effekte aktiv (CostReduction, MoodDecayReduction, XpMultiplier). (11) 8 Saison/BulkBuy-Lokalisierungskeys in 5 Sprachen.
- **v2.0.3 (12.02.2026)**: 10-Punkte Bugfix-Audit: (1) Offline-Earnings nutzen jetzt NetIncomePerSecond statt Brutto (Exploit behoben: Kosten wurden offline ignoriert). (2+3) DateTime.Now→UtcNow in DailyRewardService (3 Stellen), DailyChallengeService (2 Stellen), EventService (1 Stelle) - konsistente UTC-Zeitzone. (4+5) MoneyFormatter+MoneyDisplayConverter: Negative Werte korrekt (U+2212 Minus), T-Stufe (Trillion) ergänzt, K-Schwelle konsistent auf >=1000. (6) SaveGameService: State-Validierung bei Load/Import (PlayerLevel, Money, Workshops, Prestige etc. sanitized). (7) PrestigeService: Multiplikator-Cap bei 20x, toter RecalculatePermanentMultiplier()-Code entfernt. (8) Offline-Dialog zeigt "(Max. Xh)" wenn Dauer gekappt wurde. (9) QuickJob Tageslimit (20/Tag) gegen Reward-Farming, neuer Lokalisierungs-Key QuickJobDailyLimit in 6 Sprachen, GameState-Felder QuickJobsCompletedToday + LastQuickJobDailyReset.
- **v2.0.3 (12.02.2026)**: Statistik-Refresh beim Tab-Wechsel. Shop Instant-Cash: Belohnungen basieren auf stündlichem Einkommen statt fixem Level*Multiplikator (small=1h, large=4h, huge=12h, mega=48h). QuickJob-Belohnungen: ~5min Einkommen statt Cap bei 100€. Daily-Challenge-Belohnungen: ~10min Einkommen, 5 Level-Tiers (0-5/6-15/16-30/31-50/51+), bis zu 3 Goldschrauben. QuickJob-Timer Auto-Rotation im GameTick (UI aktualisiert bei Ablauf). Workshop-Auswahl-Dialog: Größere Buttons (MinHeight=56), sichtbarer Hintergrund+Rahmen. Research-ProgressBar: Background=SurfaceBrush (Fortschritt sichtbar).
- **v2.0.3 (12.02.2026)**: UI-Verbesserungen + Bugfixes: SawingGame IsResultShown-Reset in SetOrderId (Ergebnis-Screen blieb stehen). ToggleSwitch On/Off-Text entfernt. ConfirmDialog Buttons untereinander statt nebeneinander. Dialog-Overlay-Klick schließt Dialoge. WorkerProfile Training/Rest-Dauer-Anzeige (TrainingTimeDisplay, TrainingCostDisplay, RestTimeDisplay). Auto-Rest bei 100% Erschöpfung (WorkerService). 3 neue Lokalisierungs-Keys (TrainingDuration, TrainingCost, RestDuration) in 6 Sprachen.
- **v2.0.3 (12.02.2026)**: WorkshopView Kosten-Anzeige: Redundante TotalWorkerIncomeDisplay entfernt, stattdessen Income Stats Card mit Brutto/Netto/Kosten-Aufschlüsselung (Miete, Material, Löhne). Netto rot bei Verlust. MoneyFormatter.FormatPerHour() hinzugefügt. 6 neue Lokalisierungs-Keys (GrossIncome, NetIncome, RunningCosts, Rent, MaterialCosts, Wages) in 6 Sprachen.
- **v2.0.3 (12.02.2026)**: Achievement-XP-Rebalancing: Frühe/einfache Achievements XP um 50-75% reduziert (first_order 25→10, building_first 100→25, etc.). Level-Achievements geben 0 XP (Feedback-Loop verhindert: Level→XP→Level→XP), stattdessen höhere Geld+Goldschrauben-Belohnungen. Endgame-Achievements XP ebenfalls ~50% reduziert. Gesamtes XP-Tempo deutlich verlangsamt.
- **v2.0.3 (12.02.2026)**: Mini-Game Start-Button Fix: Panel-Wrapper mit !IsResultShown versteckt Button nach Spielende (alle 4 Games). Workshop-Gesamteinkommen: TotalWorkerIncomeDisplay in WorkshopView unter Worker-Liste. XP bei Workshop-Upgrades (5 + Level/10 pro Upgrade). Workshop-Freischaltung komplett überarbeitet: Level-Requirement muss erfüllt sein (kein Bypass per Video), Video-Ad gibt nur 50% Rabatt auf Kosten, TryPurchaseWorkshop/CanPurchaseWorkshop statt ForceUnlockWorkshop. Unlock-Kosten 5x erhöht (Plumber 25K, Electrician 250K, Painter 2.5M, etc.). Dashboard zeigt Kosten + offenes Schloss bei kaufbaren Workshops. 10 neue Lokalisierungs-Keys (6 Sprachen).
- **v2.0.3 (12.02.2026)**: WorkerProfileView Grid.Column="1" Fix (Text-Überlappung bei Persönlichkeit/Werkstatt/Effizienz). Workshop-Upgrade-Performance: RefreshWorkshops() nur für betroffenen Workshop statt alle (RefreshSingleWorkshop). Effizienz-Anzeige: EffectiveEfficiency + IncomeContribution (€/s) pro Worker in WorkshopView, WorkerMarket + WorkerProfile. Ad-Extra-Slot-Button auf WorkshopView (CanWatchSlotAd). Dashboard: Orders-Count-Badge, automatische Order-Regenerierung bei Rückkehr. OrdersCompleted Label lokalisiert (6 Sprachen).
- **v2.0.3 (11.02.2026)**: Worker-Tiers erweitert auf 10 (F/E/D/C/B/A/S/SS/SSS/Legendary). 9 neue Achievements (Workshop 100/250/500/1000, Level 100/250/500/1000, Worker SS/SSS/Legendary, 10B EUR). 2 neue Shop-Items (Huge/Mega Instant Cash). Lokalisierung in 6 Sprachen (33 neue Keys in AppStrings.resx/.de/.es/.fr/.it/.pt + AppStrings.Designer.cs)
- **v2.0.3 (11.02.2026)**: Order-Rewards: Doppel-Multiplikator-Bug gefixt (Difficulty wurde in BaseReward UND FinalReward angewendet → quadriert), Basis von 100 auf 300 erhöht für spürbar höhere Auftragsbelohnungen. Worker-Tiles in WorkshopView klickbar → navigiert zum Worker-Profil (Fire/Transfer/Train). Dashboard ScrollViewer HorizontalScrollBarVisibility=Disabled (rechter Rand Fix)
- **v2.0.3 (11.02.2026)**: Workshop-Karten im Dashboard auf 2-Spalten-Layout umgestellt (UniformGrid Columns=2). Vertikale Karten mit farbigem Header (Workshop-Farbe 10% Opacity), Icon+Name+Level-Badge, Worker/Income-Stats, Level-ProgressBar in Workshop-Farbe, Upgrade-Button über volle Breite mit abgerundeten unteren Ecken (CornerRadius=16)
- **v2.0.3 (11.02.2026)**: Bugfixes: Workshop-LevelProgress dividierte durch 10 statt MaxLevel (50), XP-Progress in OnXpGained nutzte falsche Formel (jetzt GameState.LevelProgress), DailyChallenge EarnMoney int-Cast→Math.Round, WorkshopView zeigte "/10" statt "/50", WorkshopDisplayModel hardcodierte 50.0→Workshop.MaxLevel
- **v2.0.3 (11.02.2026)**: 6 neue Rewarded-Ad-Placements implementiert (workshop_speedup, workshop_unlock, worker_hire_bonus, research_speedup, daily_challenge_retry, achievement_boost). Models erweitert (HasRetriedWithAd, HasUsedAdBoost, AdBonusWorkerSlots). Service-Methoden: RetryChallenge, ForceUnlockWorkshop, BoostAchievement. Lokalisierung in 6 Sprachen.
- **v2.0.2 (09.02.2026)**: Daily-Challenge-Bug: MiniGame-Ergebnisse werden jetzt via Event an DailyChallengeService gemeldet; 18 fehlende Lokalisierungs-Keys in 6 Sprachen ergaenzt; Farbkonsistenz-Fix: Alle Views auf warme Craft-Palette, Button-Style-Overrides, Workshop/Tier/Branch-Farben waermer
- **v2.0.2 (08.02.2026)**: Banner-Ad Overlap-Fix, WorkshopColorConverter, CelebrationOverlay + FloatingTextOverlay, Golden Screw Shimmer
- **v2.0.1 (07.02.2026)**: Rewarded Ads 7 Placements, Premium-Modell Sync (4,99)
- **v2.0.0 (05.02.2026)**: Initial Avalonia Migration, Research Tree + Mini-Games, Worker-System mit 3 Tiers
